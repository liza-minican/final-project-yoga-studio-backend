{
  "{\"sourceRoot\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend\",\"filename\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend",
      "filename": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "StaticBlock": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _expressListEndpoints = _interopRequireDefault(require(\"express-list-endpoints\"));\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _string_decoder = require(\"string_decoder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// Defines the port the app will run on.\nvar port = process.env.PORT || 8080;\nvar app = (0, _express[\"default\"])(); // list endpoints in the '/' route\n\nvar listEndpoints = require(\"express-list-endpoints\"); // error messages\n\n\nvar ERR_CANNOT_SAVE_TO_DATABASE = \"Could not save video to the Database\";\nvar ERR_CANNOT_FIND_VIDEO_BY_ID = \"Could not find video by id provided\";\nvar mongoUrl = process.env.MONGO_URL || \"mongodb://localhost/yogaStudio\";\n\n_mongoose[\"default\"].connect(mongoUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\n_mongoose[\"default\"].Promise = Promise; //user schema for sign in and sugn up with relation to video schema to store user's favourite videos\n\nvar userSchema = new _mongoose[\"default\"].Schema({\n  userName: {\n    type: String,\n    minlength: 4,\n    maxlength: 20,\n    required: true\n  },\n  email: {\n    type: String,\n    unique: true\n  },\n  password: {\n    type: String,\n    minlength: 6,\n    required: true\n  },\n  accessToken: {\n    type: String,\n    \"default\": function _default() {\n      return _crypto[\"default\"].randomBytes(128).toString(\"hex\");\n    }\n  },\n  isAdmin: {\n    type: Boolean,\n    \"default\": false\n  },\n  //reference to the videos, storing them in the array\n  selectedVideos: [{\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    ref: \"Video\"\n  }] // selectedVideos: {\n  //   type: Array,\n  // },\n\n}); //week 18th and date 16th watch\n\nvar videoSchema = new _mongoose[\"default\"].Schema({\n  videoName: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  videoUrl: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true,\n    \"enum\": [\"Beginner\", \"Intermediate\", \"Advanced\"]\n  },\n  length: {\n    type: Number,\n    required: true\n  },\n  //RATING AND LIKES CAN BE ADDED LATER\n  // rating: { //   type: Number,\n  //   enum: [1,2,3,4,5]\n  // },\n  likes: {\n    type: Number,\n    \"default\": 0,\n    min: 0,\n    max: 1\n  } //reference to the user\n  //   user: {\n  //     type: mongoose.Schema.Types.ObjectId,\n  //     ref: \"User\",\n  //   },\n\n}, {\n  timestamps: true\n}); // Add middlewares to enable cors and json body parsing\n\napp.use((0, _cors[\"default\"])());\napp.use(_bodyParser[\"default\"].json());\n\nvar User = _mongoose[\"default\"].model(\"User\", userSchema);\n\nvar Video = _mongoose[\"default\"].model(\"Video\", videoSchema); //Provide error of server\n\n\napp.use(function (req, res, next) {\n  if (_mongoose[\"default\"].connection.readyState === 1) {\n    next();\n  } else {\n    res.status(503).json({\n      error: \"Service unavailable at the moment\"\n    });\n  }\n}); // Start defining routes here\n\napp.get(\"/\", function (req, res) {\n  res.send(listEndpoints(app));\n}); // HERE ARE THE ENDPOINTS FOR SIGN IN / SIGN UP\n//this middleware is for user authentification\n\nvar authenticateUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n    var accessToken, user, errorMessage;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            accessToken = req.header(\"Authorization\");\n            _context.next = 4;\n            return User.findOne({\n              accessToken: accessToken\n            });\n\n          case 4:\n            user = _context.sent;\n\n            if (user) {\n              _context.next = 7;\n              break;\n            }\n\n            throw \"User not found\";\n\n          case 7:\n            req.user = user;\n            next();\n            _context.next = 15;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            errorMessage = \"User not found. Please try logging in again\";\n            res.status(401).json({\n              error: errorMessage\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 11]]);\n  }));\n\n  return function authenticateUser(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}(); // Sign-up\n\n\napp.post(\"/users\", /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n    var _req$body, userName, email, password, SALT, user;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _req$body = req.body, userName = _req$body.userName, email = _req$body.email, password = _req$body.password;\n            console.log(\"!!!\", userName, email, password);\n            SALT = _bcrypt[\"default\"].genSaltSync(10);\n            _context2.next = 6;\n            return new User({\n              userName: userName,\n              email: email,\n              password: _bcrypt[\"default\"].hashSync(password, SALT)\n            }).save();\n\n          case 6:\n            user = _context2.sent;\n            res.status(200).json({\n              message: \"User created!\",\n              userId: user._id,\n              accessToken: user.accessToken,\n              userName: user.userName,\n              email: user.email,\n              password: user.password\n            });\n            _context2.next = 14;\n            break;\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"!!!\", _context2.t0, \"!!!\");\n            res.status(400).json({\n              message: \"Could not create user\",\n              errors: _context2.t0\n            });\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 10]]);\n  }));\n\n  return function (_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\napp.post(\"/sessions\", /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n    var _req$body2, email, password, accessTokenUpdate, user, updatedUser;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password;\n            accessTokenUpdate = _crypto[\"default\"].randomBytes(128).toString(\"hex\");\n            console.log(\"!!!\", email, password);\n            _context3.next = 6;\n            return User.findOne({\n              email: email\n            });\n\n          case 6:\n            user = _context3.sent;\n\n            if (!(user && _bcrypt[\"default\"].compareSync(password, user.password))) {\n              _context3.next = 14;\n              break;\n            }\n\n            _context3.next = 10;\n            return User.findOneAndUpdate({\n              email: email\n            }, {\n              accessToken: accessTokenUpdate\n            }, {\n              \"new\": true,\n              useFindAndModify: false\n            });\n\n          case 10:\n            updatedUser = _context3.sent;\n            res.status(200).json({\n              userId: updatedUser._id,\n              accessToken: updatedUser.accessToken,\n              userName: updatedUser.userName\n            });\n            _context3.next = 15;\n            break;\n\n          case 14:\n            throw \"User not found\";\n\n          case 15:\n            _context3.next = 20;\n            break;\n\n          case 17:\n            _context3.prev = 17;\n            _context3.t0 = _context3[\"catch\"](0);\n            res.status(404).json({\n              error: \"User not found\"\n            });\n\n          case 20:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 17]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}()); //Logout\n// app.post(\"/users/logout\", authenticateUser);\n// app.post(\"users/logout\", async (req, res) => {\n//   try {\n//     const { userId } = req.body;\n//     const updatedUser = await User.findOneAndUpdate(\n//       //need to see why the user ID stays\n//       { _id: userId },\n//       { accessToken: null },\n//       { new: true, useFindAndModify: false }\n//     );\n//     res.status(200).json({\n//       userId: updatedUser._id,\n//       accessToken: updatedUser.accessToken,\n//     });\n//   } catch (err) {\n//     res.status(400).json({ error: err, message: \"Could not log out\" });\n//   }\n// });\n// HERE ARE THE ENDPOINTS TO WORK WITH VIDEO COLLECTION\n//get the collection of all videos available to everyone { WORKING }\n\napp.get(\"/videos\", /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n    var videos;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return Video.find().sort({\n              createdAt: \"desc\"\n            }).limit(20).exec();\n\n          case 2:\n            videos = _context4.sent;\n            res.json(videos);\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x8, _x9) {\n    return _ref4.apply(this, arguments);\n  };\n}()); //top 10 videos\n//Route to find one specific video by id { WORKING }\n\napp.get(\"/videos/:id\", /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n    var videoById;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return Video.findOne({\n              _id: req.params.id\n            });\n\n          case 2:\n            videoById = _context5.sent;\n\n            if (videoById) {\n              res.json(videoById);\n            } else {\n              res.status(404).json({\n                error: \"Video not found\"\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x10, _x11) {\n    return _ref5.apply(this, arguments);\n  };\n}()); //filter videos by length\n//filter short videos - 15, 30, 60\n\napp.get(\"/videos/length/30\", /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(req, res) {\n    var videosByLength;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return Video.find({\n              length: 30\n            });\n\n          case 2:\n            videosByLength = _context6.sent;\n\n            if (videosByLength) {\n              res.json(videosByLength);\n            } else {\n              res.status(404).json({\n                error: \"No such video found\"\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function (_x12, _x13) {\n    return _ref6.apply(this, arguments);\n  };\n}());\napp.get(\"/videos/length/15\", /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(req, res) {\n    var videosByLength;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return Video.find({\n              length: 15\n            });\n\n          case 2:\n            videosByLength = _context7.sent;\n\n            if (videosByLength) {\n              res.json(videosByLength);\n            } else {\n              res.status(404).json({\n                error: \"No such video found\"\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function (_x14, _x15) {\n    return _ref7.apply(this, arguments);\n  };\n}());\napp.get(\"/videos/length/20\", /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(req, res) {\n    var videosByLength;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.next = 2;\n            return Video.find({\n              length: 20\n            });\n\n          case 2:\n            videosByLength = _context8.sent;\n\n            if (videosByLength) {\n              res.json(videosByLength);\n            } else {\n              res.status(404).json({\n                error: \"No such video found\"\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function (_x16, _x17) {\n    return _ref8.apply(this, arguments);\n  };\n}()); // app.get(\"/videos/duration/:length\", async (req, res) => {\n//   const videoByDuration = req.params.length;\n//   const video = await Video.findAll({\n//     // //length: { $regex:(\"/[[0-9]+]/\") }\n//     length: 20,\n//   });\n//   if (video.length > 0) {\n//     res.json(video);\n//   } else {\n//     res.status(404).json({ error: \"No such video found\" });\n//   }\n// });\n// PUT: endpoint to add favoritevideo for a logged-in user:\n// UPDATES the user and adds the favorite video to the favorite videos-array for that user.\n//<----------SHOW FAVORITE VIDEOS, ADD TO FAVORITE AND DELETE FROM FAVORITE---------->\n//--ADD--\n// app.put(\"/users/:userId/favorites/:videoId\", authenticateUser);\n// app.put(\"/users/:userId/favorites/:videoId\", async (req, res) => {\n//   const { userId, videoId } = req.params;\n//   try {\n//     const selectedVideo = await Video.findById(videoId); // Find the video the user wants to add.\n//     const selectedVideos = await req.user.selectedVideos; // array of selected videos in user model\n//     //const getCurrentSelectedVideos = await Video.find({\n//     //  _id: selectedVideos,\n//    //});\n//     //console.log(\"currentselected\", getCurrentSelectedVideos);\n//     //console.log(\"selectedVideo\", selectedVideo);\n//     console.log(\"selectedVideos\", selectedVideos);\n//     //if (selectedVideos.some((video) => video._id === selectedVideo._id)) {\n//     //  alert(\"Video already existst!\");\n//     //} else {\n//      // alert(\"Object not found.\");\n//       await User.updateOne(\n//         { _id: userId },\n//         { $push: { selectedVideos: selectedVideo } } //push the selected video into the favorite videos array\n//       );\n//     }\n//     console.log(\"\");\n//     res.status(200).json(selectedVideo);\n//   } catch (err) {\n//     res.status(404).json({\n//       message: \"Could not add video.\",\n//       errors: { message: err.message, error: err },\n//     });\n//   }\n// });\n//----old version without filtering duplicates\n\napp.put(\"/users/:userId/favorites/:videoId\", authenticateUser);\napp.put(\"/users/:userId/favorites/:videoId\", /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(req, res) {\n    var _req$params, userId, videoId, selectedVideo;\n\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _req$params = req.params, userId = _req$params.userId, videoId = _req$params.videoId;\n            _context9.prev = 1;\n            _context9.next = 4;\n            return Video.findById(videoId);\n\n          case 4:\n            selectedVideo = _context9.sent;\n            // Find the video the user wants to add.\n            console.log(\"selectedVideo\", selectedVideo);\n            _context9.next = 8;\n            return User.updateOne({\n              _id: userId\n            }, {\n              $push: {\n                selectedVideos: selectedVideo\n              }\n            } //push the selected video into the favorite videos array\n            );\n\n          case 8:\n            //console.log(\"\")\n            res.status(200).json(selectedVideo);\n            _context9.next = 14;\n            break;\n\n          case 11:\n            _context9.prev = 11;\n            _context9.t0 = _context9[\"catch\"](1);\n            res.status(404).json({\n              message: \"Could not add video.\",\n              errors: {\n                message: _context9.t0.message,\n                error: _context9.t0\n              }\n            });\n\n          case 14:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9, null, [[1, 11]]);\n  }));\n\n  return function (_x18, _x19) {\n    return _ref9.apply(this, arguments);\n  };\n}()); //--DELETE--\n\napp[\"delete\"](\"/users/:userId/favorites/:videoId\", authenticateUser);\napp[\"delete\"](\"/users/:userId/favorites/:videoId\", /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(req, res) {\n    var _req$params2, userId, videoId, selectedVideo;\n\n    return regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _req$params2 = req.params, userId = _req$params2.userId, videoId = _req$params2.videoId;\n            _context10.prev = 1;\n            _context10.next = 4;\n            return Video.findById(videoId);\n\n          case 4:\n            selectedVideo = _context10.sent;\n            // Find the video the user wants to delete.\n            console.log(\"selectedVideo\", selectedVideo);\n            _context10.next = 8;\n            return User.updateOne({\n              _id: userId\n            }, {\n              $pull: {\n                selectedVideos: {\n                  $in: [selectedVideo]\n                }\n              }\n            } //delete the selected video from the favorite videos array\n            );\n\n          case 8:\n            //$pull: { fruits: { $in: [ \"apples\", \"oranges\" ] }\n            //console.log(\"\")\n            res.status(200).json(selectedVideo);\n            _context10.next = 15;\n            break;\n\n          case 11:\n            _context10.prev = 11;\n            _context10.t0 = _context10[\"catch\"](1);\n            console.log(_context10.t0);\n            res.status(404).json({\n              message: \"Could not remove video.\",\n              errors: {\n                message: _context10.t0.message,\n                error: _context10.t0\n              }\n            });\n\n          case 15:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10, null, [[1, 11]]);\n  }));\n\n  return function (_x20, _x21) {\n    return _ref10.apply(this, arguments);\n  };\n}()); //--SHOW FAVORITE VIDEOS--\n\napp.get(\"/users/:userId/favorites\", authenticateUser);\napp.get(\"/users/:userId/favorites\", /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11(req, res) {\n    var userId, favoritesArray, getCurrentFavoriteVideos;\n    return regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            _context11.prev = 0;\n            userId = req.params.userId;\n\n            if (!(userId != req.user._id)) {\n              _context11.next = 4;\n              break;\n            }\n\n            throw \"Access denied\";\n\n          case 4:\n            _context11.next = 6;\n            return req.user.selectedVideos;\n\n          case 6:\n            favoritesArray = _context11.sent;\n            _context11.next = 9;\n            return Video.find({\n              _id: favoritesArray\n            });\n\n          case 9:\n            getCurrentFavoriteVideos = _context11.sent;\n            // gives the  video-object in user favorites\n            res.status(200).json(getCurrentFavoriteVideos);\n            _context11.next = 16;\n            break;\n\n          case 13:\n            _context11.prev = 13;\n            _context11.t0 = _context11[\"catch\"](0);\n            res.status(403).json({\n              message: \"Could not get favorite videos. User must be logged in.\",\n              errors: {\n                message: _context11.t0.message,\n                error: _context11.t0\n              }\n            });\n\n          case 16:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee11, null, [[0, 13]]);\n  }));\n\n  return function (_x22, _x23) {\n    return _ref11.apply(this, arguments);\n  };\n}()); //i need to limit likes on and off for ine particulat user to be able to filter videos by total amount of likes\n\napp.post(\"/videos/:id/like\", /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(req, res) {\n    var id;\n    return regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            _context12.prev = 0;\n            id = req.params.id;\n            _context12.next = 4;\n            return Video.updateOne({\n              _id: id\n            }, {\n              $inc: {\n                likes: 1\n              }\n            });\n\n          case 4:\n            res.status(200).json({\n              success: true\n            });\n            _context12.next = 10;\n            break;\n\n          case 7:\n            _context12.prev = 7;\n            _context12.t0 = _context12[\"catch\"](0);\n            res.status(400).json({\n              message: ERR_CANNOT_FIND_VIDEO_BY_ID,\n              errors: _context12.t0.errors\n            });\n\n          case 10:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee12, null, [[0, 7]]);\n  }));\n\n  return function (_x24, _x25) {\n    return _ref12.apply(this, arguments);\n  };\n}()); //post a video, function available only for admins { WORKING }\n\napp.post(\"/videos\", /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee13(req, res) {\n    var _req$body3, videoName, videoUrl, description, length, category, video, savedVideo;\n\n    return regeneratorRuntime.wrap(function _callee13$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            _context13.prev = 0;\n            //Success case\n            //retrive the information sent by the client to our API endpoint\n            _req$body3 = req.body, videoName = _req$body3.videoName, videoUrl = _req$body3.videoUrl, description = _req$body3.description, length = _req$body3.length, category = _req$body3.category;\n            video = new Video({\n              videoName: videoName,\n              videoUrl: videoUrl,\n              description: description,\n              length: length,\n              category: category\n            });\n            _context13.next = 5;\n            return video.save();\n\n          case 5:\n            savedVideo = _context13.sent;\n            res.status(200).json(savedVideo);\n            _context13.next = 12;\n            break;\n\n          case 9:\n            _context13.prev = 9;\n            _context13.t0 = _context13[\"catch\"](0);\n            //bad request sending the status to the server and the message\n            res.status(400).json({\n              message: ERR_CANNOT_SAVE_TO_DATABASE,\n              errors: _context13.t0.errors\n            });\n\n          case 12:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee13, null, [[0, 9]]);\n  }));\n\n  return function (_x26, _x27) {\n    return _ref13.apply(this, arguments);\n  };\n}()); //delete a video function is available only for admin  {WORKING}\n\napp[\"delete\"](\"/videos/:id\", /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee14(req, res) {\n    var id;\n    return regeneratorRuntime.wrap(function _callee14$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            _context14.prev = 0;\n            //try to delete and send a successful response\n            id = req.params.id;\n            _context14.next = 4;\n            return Video.deleteOne({\n              _id: id\n            });\n\n          case 4:\n            res.status(200).json({\n              success: true\n            });\n            _context14.next = 11;\n            break;\n\n          case 7:\n            _context14.prev = 7;\n            _context14.t0 = _context14[\"catch\"](0);\n            console.log(_context14.t0); //inform the client about the deletion failure\n\n            res.status(400).json({\n              success: false\n            });\n\n          case 11:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee14, null, [[0, 7]]);\n  }));\n\n  return function (_x28, _x29) {\n    return _ref14.apply(this, arguments);\n  };\n}()); // updating a video endpoint\n// app.patch(\"/videos/:id\", async (req, res) => {\n//   try {\n//     //try to delete and send a successful response\n//     const video = await Video.findByID({ _id: id });\n//     const {\n//       videoName = video.videoName,\n//       videoUrl = video.videoUrl,\n//       description = video.description,\n//       category = video.category,\n//       length = video.length,\n//     } = req.body;\n//     const updateVideo = await Video.findByIdAndUpdate(\n//       { _id: id },\n//       { videoName, videoUrl, description, category, length },\n//       { runValidators: true }\n//     );\n//     return res.status(202).json(updatedVideo);\n//   } catch (error) {\n//     try {\n//       await Video.findById({ _id: id }); // id is matching, the model validation is off\n//       return res\n//         .status(400)\n//         .json({ message: \"Could not update video\", error: err.message });\n//     } catch (err) {\n//       // id is not matching, the validation can be either right or wrong\n//       return res.status(404).json({ message: ERR_CANNOT_FIND_VIDEO_BY_ID, id });\n//     }\n//   }\n// });\n// Start the server\n\napp.listen(port, function () {\n  console.log(\"Server running on http://localhost:\".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJhcHAiLCJsaXN0RW5kcG9pbnRzIiwicmVxdWlyZSIsIkVSUl9DQU5OT1RfU0FWRV9UT19EQVRBQkFTRSIsIkVSUl9DQU5OT1RfRklORF9WSURFT19CWV9JRCIsIm1vbmdvVXJsIiwiTU9OR09fVVJMIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiUHJvbWlzZSIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VyTmFtZSIsInR5cGUiLCJTdHJpbmciLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJhY2Nlc3NUb2tlbiIsImNyeXB0byIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJpc0FkbWluIiwiQm9vbGVhbiIsInNlbGVjdGVkVmlkZW9zIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInZpZGVvU2NoZW1hIiwidmlkZW9OYW1lIiwiZGVzY3JpcHRpb24iLCJ2aWRlb1VybCIsImNhdGVnb3J5IiwibGVuZ3RoIiwiTnVtYmVyIiwibGlrZXMiLCJtaW4iLCJtYXgiLCJ0aW1lc3RhbXBzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJVc2VyIiwibW9kZWwiLCJWaWRlbyIsInJlcSIsInJlcyIsIm5leHQiLCJjb25uZWN0aW9uIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImVycm9yIiwiZ2V0Iiwic2VuZCIsImF1dGhlbnRpY2F0ZVVzZXIiLCJoZWFkZXIiLCJmaW5kT25lIiwidXNlciIsImVycm9yTWVzc2FnZSIsInBvc3QiLCJib2R5IiwiY29uc29sZSIsImxvZyIsIlNBTFQiLCJiY3J5cHQiLCJnZW5TYWx0U3luYyIsImhhc2hTeW5jIiwic2F2ZSIsIm1lc3NhZ2UiLCJ1c2VySWQiLCJfaWQiLCJlcnJvcnMiLCJhY2Nlc3NUb2tlblVwZGF0ZSIsImNvbXBhcmVTeW5jIiwiZmluZE9uZUFuZFVwZGF0ZSIsInVzZUZpbmRBbmRNb2RpZnkiLCJ1cGRhdGVkVXNlciIsImZpbmQiLCJzb3J0IiwiY3JlYXRlZEF0IiwibGltaXQiLCJleGVjIiwidmlkZW9zIiwicGFyYW1zIiwiaWQiLCJ2aWRlb0J5SWQiLCJ2aWRlb3NCeUxlbmd0aCIsInB1dCIsInZpZGVvSWQiLCJmaW5kQnlJZCIsInNlbGVjdGVkVmlkZW8iLCJ1cGRhdGVPbmUiLCIkcHVzaCIsIiRwdWxsIiwiJGluIiwiZmF2b3JpdGVzQXJyYXkiLCJnZXRDdXJyZW50RmF2b3JpdGVWaWRlb3MiLCIkaW5jIiwic3VjY2VzcyIsInZpZGVvIiwic2F2ZWRWaWRlbyIsImRlbGV0ZU9uZSIsImxpc3RlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFDQTtBQUVBLElBQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBakM7QUFDQSxJQUFNQyxHQUFHLEdBQUcsMEJBQVosQyxDQUVBOztBQUNBLElBQU1DLGFBQWEsR0FBR0MsT0FBTyxDQUFDLHdCQUFELENBQTdCLEMsQ0FFQTs7O0FBQ0EsSUFBTUMsMkJBQTJCLEdBQUcsc0NBQXBDO0FBQ0EsSUFBTUMsMkJBQTJCLEdBQUcscUNBQXBDO0FBRUEsSUFBTUMsUUFBUSxHQUFHUixPQUFPLENBQUNDLEdBQVIsQ0FBWVEsU0FBWixJQUF5QixnQ0FBMUM7O0FBQ0FDLHFCQUFTQyxPQUFULENBQWlCSCxRQUFqQixFQUEyQjtBQUFFSSxFQUFBQSxlQUFlLEVBQUUsSUFBbkI7QUFBeUJDLEVBQUFBLGtCQUFrQixFQUFFO0FBQTdDLENBQTNCOztBQUNBSCxxQkFBU0ksT0FBVCxHQUFtQkEsT0FBbkIsQyxDQUVBOztBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJTCxxQkFBU00sTUFBYixDQUFvQjtBQUNyQ0MsRUFBQUEsUUFB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QTtBQUFBO0FBQUE7QUFFdEI7QUFDUXNDLFlBQUFBLEVBSGMsR0FHUHZDLEdBQUcsQ0FBQ3NDLE1BSEcsQ0FHZEMsRUFIYztBQUFBO0FBQUEsbUJBSWhCeEMsS0FBSyxDQUFDeUQsU0FBTixDQUFnQjtBQUFFL0IsY0FBQUEsR0FBRyxFQUFFYztBQUFQLGFBQWhCLENBSmdCOztBQUFBO0FBS3RCdEMsWUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRXlELGNBQUFBLE9BQU8sRUFBRTtBQUFYLGFBQXJCO0FBTHNCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBT3RCckMsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLGdCQVBzQixDQVF0Qjs7QUFDQWhCLFlBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JULElBQWhCLENBQXFCO0FBQUV5RCxjQUFBQSxPQUFPLEVBQUU7QUFBWCxhQUFyQjs7QUFUc0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FBMUI7O0FBQUE7QUFBQTtBQUFBO0FBQUEsSyxDQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBdkcsR0FBRyxDQUFDMkcsTUFBSixDQUFXL0csSUFBWCxFQUFpQixZQUFNO0FBQ3JCc0UsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLDhDQUFrRHZFLElBQWxEO0FBQ0QsQ0FGRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZWxpemF2ZXRhbWluaWNhbi9EZXNrdG9wL3Byb2plY3RzX21haW4vVEVDSE5JR08vZmluYWwtcHJvamVjdC15b2dhLXN0dWRpby1iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgZW5kcG9pbnRzIGZyb20gXCJleHByZXNzLWxpc3QtZW5kcG9pbnRzXCI7XG5pbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuaW1wb3J0IHsgU3RyaW5nRGVjb2RlciB9IGZyb20gXCJzdHJpbmdfZGVjb2RlclwiO1xuLy8gRGVmaW5lcyB0aGUgcG9ydCB0aGUgYXBwIHdpbGwgcnVuIG9uLlxuXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA4MDgwO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBsaXN0IGVuZHBvaW50cyBpbiB0aGUgJy8nIHJvdXRlXG5jb25zdCBsaXN0RW5kcG9pbnRzID0gcmVxdWlyZShcImV4cHJlc3MtbGlzdC1lbmRwb2ludHNcIik7XG5cbi8vIGVycm9yIG1lc3NhZ2VzXG5jb25zdCBFUlJfQ0FOTk9UX1NBVkVfVE9fREFUQUJBU0UgPSBcIkNvdWxkIG5vdCBzYXZlIHZpZGVvIHRvIHRoZSBEYXRhYmFzZVwiO1xuY29uc3QgRVJSX0NBTk5PVF9GSU5EX1ZJREVPX0JZX0lEID0gXCJDb3VsZCBub3QgZmluZCB2aWRlbyBieSBpZCBwcm92aWRlZFwiO1xuXG5jb25zdCBtb25nb1VybCA9IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCBcIm1vbmdvZGI6Ly9sb2NhbGhvc3QveW9nYVN0dWRpb1wiO1xubW9uZ29vc2UuY29ubmVjdChtb25nb1VybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KTtcbm1vbmdvb3NlLlByb21pc2UgPSBQcm9taXNlO1xuXG4vL3VzZXIgc2NoZW1hIGZvciBzaWduIGluIGFuZCBzdWduIHVwIHdpdGggcmVsYXRpb24gdG8gdmlkZW8gc2NoZW1hIHRvIHN0b3JlIHVzZXIncyBmYXZvdXJpdGUgdmlkZW9zXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXJOYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIG1pbmxlbmd0aDogNCxcbiAgICBtYXhsZW5ndGg6IDIwLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB1bmlxdWU6IHRydWUsXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIG1pbmxlbmd0aDogNixcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgYWNjZXNzVG9rZW46IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogKCkgPT4gY3J5cHRvLnJhbmRvbUJ5dGVzKDEyOCkudG9TdHJpbmcoXCJoZXhcIiksXG4gIH0sXG4gIGlzQWRtaW46IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICB9LFxuICAvL3JlZmVyZW5jZSB0byB0aGUgdmlkZW9zLCBzdG9yaW5nIHRoZW0gaW4gdGhlIGFycmF5XG4gIHNlbGVjdGVkVmlkZW9zOiBbeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJWaWRlb1wiIH1dLFxuXG4gIC8vIHNlbGVjdGVkVmlkZW9zOiB7XG4gIC8vICAgdHlwZTogQXJyYXksXG4gIC8vIH0sXG59KTtcblxuLy93ZWVrIDE4dGggYW5kIGRhdGUgMTZ0aCB3YXRjaFxuXG5jb25zdCB2aWRlb1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICB2aWRlb05hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgZGVzY3JpcHRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgdmlkZW9Vcmw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgY2F0ZWdvcnk6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgZW51bTogW1wiQmVnaW5uZXJcIiwgXCJJbnRlcm1lZGlhdGVcIiwgXCJBZHZhbmNlZFwiXSxcbiAgICB9LFxuICAgIGxlbmd0aDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICAvL1JBVElORyBBTkQgTElLRVMgQ0FOIEJFIEFEREVEIExBVEVSXG4gICAgLy8gcmF0aW5nOiB7IC8vICAgdHlwZTogTnVtYmVyLFxuICAgIC8vICAgZW51bTogWzEsMiwzLDQsNV1cbiAgICAvLyB9LFxuXG4gICAgbGlrZXM6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgfSxcblxuICAgIC8vcmVmZXJlbmNlIHRvIHRoZSB1c2VyXG4gICAgLy8gICB1c2VyOiB7XG4gICAgLy8gICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAvLyAgICAgcmVmOiBcIlVzZXJcIixcbiAgICAvLyAgIH0sXG4gIH0sXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9XG4pO1xuXG4vLyBBZGQgbWlkZGxld2FyZXMgdG8gZW5hYmxlIGNvcnMgYW5kIGpzb24gYm9keSBwYXJzaW5nXG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcblxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCB1c2VyU2NoZW1hKTtcbmNvbnN0IFZpZGVvID0gbW9uZ29vc2UubW9kZWwoXCJWaWRlb1wiLCB2aWRlb1NjaGVtYSk7XG5cbi8vUHJvdmlkZSBlcnJvciBvZiBzZXJ2ZXJcblxuYXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gMSkge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDUwMykuanNvbih7IGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGUgYXQgdGhlIG1vbWVudFwiIH0pO1xuICB9XG59KTtcblxuLy8gU3RhcnQgZGVmaW5pbmcgcm91dGVzIGhlcmVcbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZChsaXN0RW5kcG9pbnRzKGFwcCkpO1xufSk7XG5cbi8vIEhFUkUgQVJFIFRIRSBFTkRQT0lOVFMgRk9SIFNJR04gSU4gLyBTSUdOIFVQXG5cbi8vdGhpcyBtaWRkbGV3YXJlIGlzIGZvciB1c2VyIGF1dGhlbnRpZmljYXRpb25cbmNvbnN0IGF1dGhlbnRpY2F0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcS5oZWFkZXIoXCJBdXRob3JpemF0aW9uXCIpO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBhY2Nlc3NUb2tlbiB9KTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHRocm93IFwiVXNlciBub3QgZm91bmRcIjtcbiAgICB9XG4gICAgcmVxLnVzZXIgPSB1c2VyO1xuICAgIG5leHQoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gXCJVc2VyIG5vdCBmb3VuZC4gUGxlYXNlIHRyeSBsb2dnaW5nIGluIGFnYWluXCI7XG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogZXJyb3JNZXNzYWdlIH0pO1xuICB9XG59O1xuXG4vLyBTaWduLXVwXG5cbmFwcC5wb3N0KFwiL3VzZXJzXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdXNlck5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc29sZS5sb2coXCIhISFcIiwgdXNlck5hbWUsIGVtYWlsLCBwYXNzd29yZCk7XG4gICAgY29uc3QgU0FMVCA9IGJjcnlwdC5nZW5TYWx0U3luYygxMCk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgIHVzZXJOYW1lLFxuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZDogYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCBTQUxUKSxcbiAgICB9KS5zYXZlKCk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgbWVzc2FnZTogXCJVc2VyIGNyZWF0ZWQhXCIsXG4gICAgICB1c2VySWQ6IHVzZXIuX2lkLFxuICAgICAgYWNjZXNzVG9rZW46IHVzZXIuYWNjZXNzVG9rZW4sXG4gICAgICB1c2VyTmFtZTogdXNlci51c2VyTmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKFwiISEhXCIsIGVyciwgXCIhISFcIik7XG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkNvdWxkIG5vdCBjcmVhdGUgdXNlclwiLCBlcnJvcnM6IGVyciB9KTtcbiAgfVxufSk7XG5cbmFwcC5wb3N0KFwiL3Nlc3Npb25zXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBhY2Nlc3NUb2tlblVwZGF0ZSA9IGNyeXB0by5yYW5kb21CeXRlcygxMjgpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiISEhXCIsIGVtYWlsLCBwYXNzd29yZCk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsIH0pO1xuICAgIGlmICh1c2VyICYmIGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgdXNlci5wYXNzd29yZCkpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgVXNlci5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICB7IGVtYWlsOiBlbWFpbCB9LFxuICAgICAgICB7IGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlblVwZGF0ZSB9LFxuICAgICAgICB7IG5ldzogdHJ1ZSwgdXNlRmluZEFuZE1vZGlmeTogZmFsc2UgfVxuICAgICAgKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgdXNlcklkOiB1cGRhdGVkVXNlci5faWQsXG4gICAgICAgIGFjY2Vzc1Rva2VuOiB1cGRhdGVkVXNlci5hY2Nlc3NUb2tlbixcbiAgICAgICAgdXNlck5hbWU6IHVwZGF0ZWRVc2VyLnVzZXJOYW1lLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IFwiVXNlciBub3QgZm91bmRcIjtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6IFwiVXNlciBub3QgZm91bmRcIiB9KTtcbiAgfVxufSk7XG5cbi8vTG9nb3V0XG4vLyBhcHAucG9zdChcIi91c2Vycy9sb2dvdXRcIiwgYXV0aGVudGljYXRlVXNlcik7XG4vLyBhcHAucG9zdChcInVzZXJzL2xvZ291dFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLmJvZHk7XG4vLyAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmVBbmRVcGRhdGUoXG4vLyAgICAgICAvL25lZWQgdG8gc2VlIHdoeSB0aGUgdXNlciBJRCBzdGF5c1xuLy8gICAgICAgeyBfaWQ6IHVzZXJJZCB9LFxuLy8gICAgICAgeyBhY2Nlc3NUb2tlbjogbnVsbCB9LFxuLy8gICAgICAgeyBuZXc6IHRydWUsIHVzZUZpbmRBbmRNb2RpZnk6IGZhbHNlIH1cbi8vICAgICApO1xuLy8gICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbi8vICAgICAgIHVzZXJJZDogdXBkYXRlZFVzZXIuX2lkLFxuLy8gICAgICAgYWNjZXNzVG9rZW46IHVwZGF0ZWRVc2VyLmFjY2Vzc1Rva2VuLFxuLy8gICAgIH0pO1xuLy8gICB9IGNhdGNoIChlcnIpIHtcbi8vICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnIsIG1lc3NhZ2U6IFwiQ291bGQgbm90IGxvZyBvdXRcIiB9KTtcbi8vICAgfVxuLy8gfSk7XG5cbi8vIEhFUkUgQVJFIFRIRSBFTkRQT0lOVFMgVE8gV09SSyBXSVRIIFZJREVPIENPTExFQ1RJT05cblxuLy9nZXQgdGhlIGNvbGxlY3Rpb24gb2YgYWxsIHZpZGVvcyBhdmFpbGFibGUgdG8gZXZlcnlvbmUgeyBXT1JLSU5HIH1cbmFwcC5nZXQoXCIvdmlkZW9zXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB2aWRlb3MgPSBhd2FpdCBWaWRlby5maW5kKClcbiAgICAuc29ydCh7IGNyZWF0ZWRBdDogXCJkZXNjXCIgfSlcbiAgICAubGltaXQoMjApXG4gICAgLmV4ZWMoKTtcbiAgcmVzLmpzb24odmlkZW9zKTtcbn0pO1xuXG4vL3RvcCAxMCB2aWRlb3NcblxuLy9Sb3V0ZSB0byBmaW5kIG9uZSBzcGVjaWZpYyB2aWRlbyBieSBpZCB7IFdPUktJTkcgfVxuYXBwLmdldChcIi92aWRlb3MvOmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB2aWRlb0J5SWQgPSBhd2FpdCBWaWRlby5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICBpZiAodmlkZW9CeUlkKSB7XG4gICAgcmVzLmpzb24odmlkZW9CeUlkKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIlZpZGVvIG5vdCBmb3VuZFwiIH0pO1xuICB9XG59KTtcblxuLy9maWx0ZXIgdmlkZW9zIGJ5IGxlbmd0aFxuXG4vL2ZpbHRlciBzaG9ydCB2aWRlb3MgLSAxNSwgMzAsIDYwXG5hcHAuZ2V0KFwiL3ZpZGVvcy9sZW5ndGgvMzBcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHZpZGVvc0J5TGVuZ3RoID0gYXdhaXQgVmlkZW8uZmluZCh7IGxlbmd0aDogMzAgfSk7XG4gIGlmICh2aWRlb3NCeUxlbmd0aCkge1xuICAgIHJlcy5qc29uKHZpZGVvc0J5TGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIk5vIHN1Y2ggdmlkZW8gZm91bmRcIiB9KTtcbiAgfVxufSk7XG5hcHAuZ2V0KFwiL3ZpZGVvcy9sZW5ndGgvMTVcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHZpZGVvc0J5TGVuZ3RoID0gYXdhaXQgVmlkZW8uZmluZCh7IGxlbmd0aDogMTUgfSk7XG4gIGlmICh2aWRlb3NCeUxlbmd0aCkge1xuICAgIHJlcy5qc29uKHZpZGVvc0J5TGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIk5vIHN1Y2ggdmlkZW8gZm91bmRcIiB9KTtcbiAgfVxufSk7XG5hcHAuZ2V0KFwiL3ZpZGVvcy9sZW5ndGgvMjBcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHZpZGVvc0J5TGVuZ3RoID0gYXdhaXQgVmlkZW8uZmluZCh7IGxlbmd0aDogMjAgfSk7XG4gIGlmICh2aWRlb3NCeUxlbmd0aCkge1xuICAgIHJlcy5qc29uKHZpZGVvc0J5TGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIk5vIHN1Y2ggdmlkZW8gZm91bmRcIiB9KTtcbiAgfVxufSk7XG4vLyBhcHAuZ2V0KFwiL3ZpZGVvcy9kdXJhdGlvbi86bGVuZ3RoXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCB2aWRlb0J5RHVyYXRpb24gPSByZXEucGFyYW1zLmxlbmd0aDtcbi8vICAgY29uc3QgdmlkZW8gPSBhd2FpdCBWaWRlby5maW5kQWxsKHtcbi8vICAgICAvLyAvL2xlbmd0aDogeyAkcmVnZXg6KFwiL1tbMC05XStdL1wiKSB9XG4vLyAgICAgbGVuZ3RoOiAyMCxcbi8vICAgfSk7XG4vLyAgIGlmICh2aWRlby5sZW5ndGggPiAwKSB7XG4vLyAgICAgcmVzLmpzb24odmlkZW8pO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6IFwiTm8gc3VjaCB2aWRlbyBmb3VuZFwiIH0pO1xuLy8gICB9XG4vLyB9KTtcbi8vIFBVVDogZW5kcG9pbnQgdG8gYWRkIGZhdm9yaXRldmlkZW8gZm9yIGEgbG9nZ2VkLWluIHVzZXI6XG4vLyBVUERBVEVTIHRoZSB1c2VyIGFuZCBhZGRzIHRoZSBmYXZvcml0ZSB2aWRlbyB0byB0aGUgZmF2b3JpdGUgdmlkZW9zLWFycmF5IGZvciB0aGF0IHVzZXIuXG5cbi8vPC0tLS0tLS0tLS1TSE9XIEZBVk9SSVRFIFZJREVPUywgQUREIFRPIEZBVk9SSVRFIEFORCBERUxFVEUgRlJPTSBGQVZPUklURS0tLS0tLS0tLS0+XG4vLy0tQURELS1cbi8vIGFwcC5wdXQoXCIvdXNlcnMvOnVzZXJJZC9mYXZvcml0ZXMvOnZpZGVvSWRcIiwgYXV0aGVudGljYXRlVXNlcik7XG4vLyBhcHAucHV0KFwiL3VzZXJzLzp1c2VySWQvZmF2b3JpdGVzLzp2aWRlb0lkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCB7IHVzZXJJZCwgdmlkZW9JZCB9ID0gcmVxLnBhcmFtcztcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCBzZWxlY3RlZFZpZGVvID0gYXdhaXQgVmlkZW8uZmluZEJ5SWQodmlkZW9JZCk7IC8vIEZpbmQgdGhlIHZpZGVvIHRoZSB1c2VyIHdhbnRzIHRvIGFkZC5cbi8vICAgICBjb25zdCBzZWxlY3RlZFZpZGVvcyA9IGF3YWl0IHJlcS51c2VyLnNlbGVjdGVkVmlkZW9zOyAvLyBhcnJheSBvZiBzZWxlY3RlZCB2aWRlb3MgaW4gdXNlciBtb2RlbFxuLy8gICAgIC8vY29uc3QgZ2V0Q3VycmVudFNlbGVjdGVkVmlkZW9zID0gYXdhaXQgVmlkZW8uZmluZCh7XG4vLyAgICAgLy8gIF9pZDogc2VsZWN0ZWRWaWRlb3MsXG4vLyAgICAvL30pO1xuLy8gICAgIC8vY29uc29sZS5sb2coXCJjdXJyZW50c2VsZWN0ZWRcIiwgZ2V0Q3VycmVudFNlbGVjdGVkVmlkZW9zKTtcbi8vICAgICAvL2NvbnNvbGUubG9nKFwic2VsZWN0ZWRWaWRlb1wiLCBzZWxlY3RlZFZpZGVvKTtcbi8vICAgICBjb25zb2xlLmxvZyhcInNlbGVjdGVkVmlkZW9zXCIsIHNlbGVjdGVkVmlkZW9zKTtcbi8vICAgICAvL2lmIChzZWxlY3RlZFZpZGVvcy5zb21lKCh2aWRlbykgPT4gdmlkZW8uX2lkID09PSBzZWxlY3RlZFZpZGVvLl9pZCkpIHtcbi8vICAgICAvLyAgYWxlcnQoXCJWaWRlbyBhbHJlYWR5IGV4aXN0c3QhXCIpO1xuLy8gICAgIC8vfSBlbHNlIHtcbi8vICAgICAgLy8gYWxlcnQoXCJPYmplY3Qgbm90IGZvdW5kLlwiKTtcbi8vICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxuLy8gICAgICAgICB7IF9pZDogdXNlcklkIH0sXG4vLyAgICAgICAgIHsgJHB1c2g6IHsgc2VsZWN0ZWRWaWRlb3M6IHNlbGVjdGVkVmlkZW8gfSB9IC8vcHVzaCB0aGUgc2VsZWN0ZWQgdmlkZW8gaW50byB0aGUgZmF2b3JpdGUgdmlkZW9zIGFycmF5XG4vLyAgICAgICApO1xuLy8gICAgIH1cbi8vICAgICBjb25zb2xlLmxvZyhcIlwiKTtcbi8vICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzZWxlY3RlZFZpZGVvKTtcbi8vICAgfSBjYXRjaCAoZXJyKSB7XG4vLyAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuLy8gICAgICAgbWVzc2FnZTogXCJDb3VsZCBub3QgYWRkIHZpZGVvLlwiLFxuLy8gICAgICAgZXJyb3JzOiB7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBlcnJvcjogZXJyIH0sXG4vLyAgICAgfSk7XG4vLyAgIH1cbi8vIH0pO1xuXG4vLy0tLS1vbGQgdmVyc2lvbiB3aXRob3V0IGZpbHRlcmluZyBkdXBsaWNhdGVzXG5hcHAucHV0KFwiL3VzZXJzLzp1c2VySWQvZmF2b3JpdGVzLzp2aWRlb0lkXCIsIGF1dGhlbnRpY2F0ZVVzZXIpO1xuYXBwLnB1dChcIi91c2Vycy86dXNlcklkL2Zhdm9yaXRlcy86dmlkZW9JZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyB1c2VySWQsIHZpZGVvSWQgfSA9IHJlcS5wYXJhbXM7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRWaWRlbyA9IGF3YWl0IFZpZGVvLmZpbmRCeUlkKHZpZGVvSWQpOyAvLyBGaW5kIHRoZSB2aWRlbyB0aGUgdXNlciB3YW50cyB0byBhZGQuXG4gICAgY29uc29sZS5sb2coXCJzZWxlY3RlZFZpZGVvXCIsIHNlbGVjdGVkVmlkZW8pO1xuICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxuICAgICAgeyBfaWQ6IHVzZXJJZCB9LFxuICAgICAgeyAkcHVzaDogeyBzZWxlY3RlZFZpZGVvczogc2VsZWN0ZWRWaWRlbyB9IH0gLy9wdXNoIHRoZSBzZWxlY3RlZCB2aWRlbyBpbnRvIHRoZSBmYXZvcml0ZSB2aWRlb3MgYXJyYXlcbiAgICApO1xuICAgIC8vY29uc29sZS5sb2coXCJcIilcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzZWxlY3RlZFZpZGVvKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgbWVzc2FnZTogXCJDb3VsZCBub3QgYWRkIHZpZGVvLlwiLFxuICAgICAgZXJyb3JzOiB7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBlcnJvcjogZXJyIH0sXG4gICAgfSk7XG4gIH1cbn0pO1xuLy8tLURFTEVURS0tXG5hcHAuZGVsZXRlKFwiL3VzZXJzLzp1c2VySWQvZmF2b3JpdGVzLzp2aWRlb0lkXCIsIGF1dGhlbnRpY2F0ZVVzZXIpO1xuYXBwLmRlbGV0ZShcIi91c2Vycy86dXNlcklkL2Zhdm9yaXRlcy86dmlkZW9JZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyB1c2VySWQsIHZpZGVvSWQgfSA9IHJlcS5wYXJhbXM7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRWaWRlbyA9IGF3YWl0IFZpZGVvLmZpbmRCeUlkKHZpZGVvSWQpOyAvLyBGaW5kIHRoZSB2aWRlbyB0aGUgdXNlciB3YW50cyB0byBkZWxldGUuXG4gICAgY29uc29sZS5sb2coXCJzZWxlY3RlZFZpZGVvXCIsIHNlbGVjdGVkVmlkZW8pO1xuICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxuICAgICAgeyBfaWQ6IHVzZXJJZCB9LFxuICAgICAgeyAkcHVsbDogeyBzZWxlY3RlZFZpZGVvczogeyAkaW46IFtzZWxlY3RlZFZpZGVvXSB9IH0gfSAvL2RlbGV0ZSB0aGUgc2VsZWN0ZWQgdmlkZW8gZnJvbSB0aGUgZmF2b3JpdGUgdmlkZW9zIGFycmF5XG4gICAgKTtcbiAgICAvLyRwdWxsOiB7IGZydWl0czogeyAkaW46IFsgXCJhcHBsZXNcIiwgXCJvcmFuZ2VzXCIgXSB9XG4gICAgLy9jb25zb2xlLmxvZyhcIlwiKVxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHNlbGVjdGVkVmlkZW8pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IFwiQ291bGQgbm90IHJlbW92ZSB2aWRlby5cIixcbiAgICAgIGVycm9yczogeyBtZXNzYWdlOiBlcnIubWVzc2FnZSwgZXJyb3I6IGVyciB9LFxuICAgIH0pO1xuICB9XG59KTtcbi8vLS1TSE9XIEZBVk9SSVRFIFZJREVPUy0tXG5hcHAuZ2V0KFwiL3VzZXJzLzp1c2VySWQvZmF2b3JpdGVzXCIsIGF1dGhlbnRpY2F0ZVVzZXIpO1xuYXBwLmdldChcIi91c2Vycy86dXNlcklkL2Zhdm9yaXRlc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VySWQgPSByZXEucGFyYW1zLnVzZXJJZDtcbiAgICBpZiAodXNlcklkICE9IHJlcS51c2VyLl9pZCkge1xuICAgICAgdGhyb3cgXCJBY2Nlc3MgZGVuaWVkXCI7XG4gICAgfVxuICAgIGNvbnN0IGZhdm9yaXRlc0FycmF5ID0gYXdhaXQgcmVxLnVzZXIuc2VsZWN0ZWRWaWRlb3M7IC8vYXJyYXkgb2YgYWRkZWQgdmlkZW9zICh2aWRlby1pZDpzKVxuICAgIGNvbnN0IGdldEN1cnJlbnRGYXZvcml0ZVZpZGVvcyA9IGF3YWl0IFZpZGVvLmZpbmQoe1xuICAgICAgX2lkOiBmYXZvcml0ZXNBcnJheSxcbiAgICB9KTsgLy8gZ2l2ZXMgdGhlICB2aWRlby1vYmplY3QgaW4gdXNlciBmYXZvcml0ZXNcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihnZXRDdXJyZW50RmF2b3JpdGVWaWRlb3MpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXMuc3RhdHVzKDQwMykuanNvbih7XG4gICAgICBtZXNzYWdlOiBcIkNvdWxkIG5vdCBnZXQgZmF2b3JpdGUgdmlkZW9zLiBVc2VyIG11c3QgYmUgbG9nZ2VkIGluLlwiLFxuICAgICAgZXJyb3JzOiB7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBlcnJvcjogZXJyIH0sXG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vL2kgbmVlZCB0byBsaW1pdCBsaWtlcyBvbiBhbmQgb2ZmIGZvciBpbmUgcGFydGljdWxhdCB1c2VyIHRvIGJlIGFibGUgdG8gZmlsdGVyIHZpZGVvcyBieSB0b3RhbCBhbW91bnQgb2YgbGlrZXNcbmFwcC5wb3N0KFwiL3ZpZGVvcy86aWQvbGlrZVwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIGF3YWl0IFZpZGVvLnVwZGF0ZU9uZSh7IF9pZDogaWQgfSwgeyAkaW5jOiB7IGxpa2VzOiAxIH0gfSk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXNcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLmpzb24oeyBtZXNzYWdlOiBFUlJfQ0FOTk9UX0ZJTkRfVklERU9fQllfSUQsIGVycm9yczogZXJyLmVycm9ycyB9KTtcbiAgfVxufSk7XG5cbi8vcG9zdCBhIHZpZGVvLCBmdW5jdGlvbiBhdmFpbGFibGUgb25seSBmb3IgYWRtaW5zIHsgV09SS0lORyB9XG5hcHAucG9zdChcIi92aWRlb3NcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIC8vVHJ5IGNhdGNoXG4gIHRyeSB7XG4gICAgLy9TdWNjZXNzIGNhc2VcbiAgICAvL3JldHJpdmUgdGhlIGluZm9ybWF0aW9uIHNlbnQgYnkgdGhlIGNsaWVudCB0byBvdXIgQVBJIGVuZHBvaW50XG4gICAgY29uc3QgeyB2aWRlb05hbWUsIHZpZGVvVXJsLCBkZXNjcmlwdGlvbiwgbGVuZ3RoLCBjYXRlZ29yeSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdmlkZW8gPSBuZXcgVmlkZW8oe1xuICAgICAgdmlkZW9OYW1lLFxuICAgICAgdmlkZW9VcmwsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGxlbmd0aCxcbiAgICAgIGNhdGVnb3J5LFxuICAgIH0pO1xuICAgIGNvbnN0IHNhdmVkVmlkZW8gPSBhd2FpdCB2aWRlby5zYXZlKCk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oc2F2ZWRWaWRlbyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vYmFkIHJlcXVlc3Qgc2VuZGluZyB0aGUgc3RhdHVzIHRvIHRoZSBzZXJ2ZXIgYW5kIHRoZSBtZXNzYWdlXG4gICAgcmVzXG4gICAgICAuc3RhdHVzKDQwMClcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogRVJSX0NBTk5PVF9TQVZFX1RPX0RBVEFCQVNFLCBlcnJvcnM6IGVyci5lcnJvcnMgfSk7XG4gIH1cbn0pO1xuLy9kZWxldGUgYSB2aWRlbyBmdW5jdGlvbiBpcyBhdmFpbGFibGUgb25seSBmb3IgYWRtaW4gIHtXT1JLSU5HfVxuYXBwLmRlbGV0ZShcIi92aWRlb3MvOmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIC8vdHJ5IHRvIGRlbGV0ZSBhbmQgc2VuZCBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIGF3YWl0IFZpZGVvLmRlbGV0ZU9uZSh7IF9pZDogaWQgfSk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAvL2luZm9ybSB0aGUgY2xpZW50IGFib3V0IHRoZSBkZWxldGlvbiBmYWlsdXJlXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgfVxufSk7XG5cbi8vIHVwZGF0aW5nIGEgdmlkZW8gZW5kcG9pbnRcbi8vIGFwcC5wYXRjaChcIi92aWRlb3MvOmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICB0cnkge1xuLy8gICAgIC8vdHJ5IHRvIGRlbGV0ZSBhbmQgc2VuZCBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2Vcbi8vICAgICBjb25zdCB2aWRlbyA9IGF3YWl0IFZpZGVvLmZpbmRCeUlEKHsgX2lkOiBpZCB9KTtcbi8vICAgICBjb25zdCB7XG4vLyAgICAgICB2aWRlb05hbWUgPSB2aWRlby52aWRlb05hbWUsXG4vLyAgICAgICB2aWRlb1VybCA9IHZpZGVvLnZpZGVvVXJsLFxuLy8gICAgICAgZGVzY3JpcHRpb24gPSB2aWRlby5kZXNjcmlwdGlvbixcbi8vICAgICAgIGNhdGVnb3J5ID0gdmlkZW8uY2F0ZWdvcnksXG4vLyAgICAgICBsZW5ndGggPSB2aWRlby5sZW5ndGgsXG4vLyAgICAgfSA9IHJlcS5ib2R5O1xuLy8gICAgIGNvbnN0IHVwZGF0ZVZpZGVvID0gYXdhaXQgVmlkZW8uZmluZEJ5SWRBbmRVcGRhdGUoXG4vLyAgICAgICB7IF9pZDogaWQgfSxcbi8vICAgICAgIHsgdmlkZW9OYW1lLCB2aWRlb1VybCwgZGVzY3JpcHRpb24sIGNhdGVnb3J5LCBsZW5ndGggfSxcbi8vICAgICAgIHsgcnVuVmFsaWRhdG9yczogdHJ1ZSB9XG4vLyAgICAgKTtcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDIpLmpzb24odXBkYXRlZFZpZGVvKTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICB0cnkge1xuLy8gICAgICAgYXdhaXQgVmlkZW8uZmluZEJ5SWQoeyBfaWQ6IGlkIH0pOyAvLyBpZCBpcyBtYXRjaGluZywgdGhlIG1vZGVsIHZhbGlkYXRpb24gaXMgb2ZmXG4vLyAgICAgICByZXR1cm4gcmVzXG4vLyAgICAgICAgIC5zdGF0dXMoNDAwKVxuLy8gICAgICAgICAuanNvbih7IG1lc3NhZ2U6IFwiQ291bGQgbm90IHVwZGF0ZSB2aWRlb1wiLCBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XG4vLyAgICAgICAvLyBpZCBpcyBub3QgbWF0Y2hpbmcsIHRoZSB2YWxpZGF0aW9uIGNhbiBiZSBlaXRoZXIgcmlnaHQgb3Igd3Jvbmdcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IEVSUl9DQU5OT1RfRklORF9WSURFT19CWV9JRCwgaWQgfSk7XG4vLyAgICAgfVxuLy8gICB9XG4vLyB9KTtcblxuLy8gU3RhcnQgdGhlIHNlcnZlclxuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKGBTZXJ2ZXIgcnVubmluZyBvbiBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKTtcbn0pO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "port",
        "process",
        "env",
        "PORT",
        "app",
        "listEndpoints",
        "require",
        "ERR_CANNOT_SAVE_TO_DATABASE",
        "ERR_CANNOT_FIND_VIDEO_BY_ID",
        "mongoUrl",
        "MONGO_URL",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "Promise",
        "userSchema",
        "Schema",
        "userName",
        "type",
        "String",
        "minlength",
        "maxlength",
        "required",
        "email",
        "unique",
        "password",
        "accessToken",
        "crypto",
        "randomBytes",
        "toString",
        "isAdmin",
        "Boolean",
        "selectedVideos",
        "Types",
        "ObjectId",
        "ref",
        "videoSchema",
        "videoName",
        "description",
        "videoUrl",
        "category",
        "length",
        "Number",
        "likes",
        "min",
        "max",
        "timestamps",
        "use",
        "bodyParser",
        "json",
        "User",
        "model",
        "Video",
        "req",
        "res",
        "next",
        "connection",
        "readyState",
        "status",
        "error",
        "get",
        "send",
        "authenticateUser",
        "header",
        "findOne",
        "user",
        "errorMessage",
        "post",
        "body",
        "console",
        "log",
        "SALT",
        "bcrypt",
        "genSaltSync",
        "hashSync",
        "save",
        "message",
        "userId",
        "_id",
        "errors",
        "accessTokenUpdate",
        "compareSync",
        "findOneAndUpdate",
        "useFindAndModify",
        "updatedUser",
        "find",
        "sort",
        "createdAt",
        "limit",
        "exec",
        "videos",
        "params",
        "id",
        "videoById",
        "videosByLength",
        "put",
        "videoId",
        "findById",
        "selectedVideo",
        "updateOne",
        "$push",
        "$pull",
        "$in",
        "favoritesArray",
        "getCurrentFavoriteVideos",
        "$inc",
        "success",
        "video",
        "savedVideo",
        "deleteOne",
        "listen"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/",
      "sourcesContent": [
        "import express from \"express\";\nimport bodyParser from \"body-parser\";\nimport cors from \"cors\";\nimport mongoose from \"mongoose\";\nimport endpoints from \"express-list-endpoints\";\nimport crypto from \"crypto\";\nimport bcrypt from \"bcrypt\";\nimport { StringDecoder } from \"string_decoder\";\n// Defines the port the app will run on.\n\nconst port = process.env.PORT || 8080;\nconst app = express();\n\n// list endpoints in the '/' route\nconst listEndpoints = require(\"express-list-endpoints\");\n\n// error messages\nconst ERR_CANNOT_SAVE_TO_DATABASE = \"Could not save video to the Database\";\nconst ERR_CANNOT_FIND_VIDEO_BY_ID = \"Could not find video by id provided\";\n\nconst mongoUrl = process.env.MONGO_URL || \"mongodb://localhost/yogaStudio\";\nmongoose.connect(mongoUrl, { useNewUrlParser: true, useUnifiedTopology: true });\nmongoose.Promise = Promise;\n\n//user schema for sign in and sugn up with relation to video schema to store user's favourite videos\nconst userSchema = new mongoose.Schema({\n  userName: {\n    type: String,\n    minlength: 4,\n    maxlength: 20,\n    required: true,\n  },\n  email: {\n    type: String,\n    unique: true,\n  },\n  password: {\n    type: String,\n    minlength: 6,\n    required: true,\n  },\n  accessToken: {\n    type: String,\n    default: () => crypto.randomBytes(128).toString(\"hex\"),\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false,\n  },\n  //reference to the videos, storing them in the array\n  selectedVideos: [{ type: mongoose.Schema.Types.ObjectId, ref: \"Video\" }],\n\n  // selectedVideos: {\n  //   type: Array,\n  // },\n});\n\n//week 18th and date 16th watch\n\nconst videoSchema = new mongoose.Schema(\n  {\n    videoName: {\n      type: String,\n      required: true,\n    },\n    description: {\n      type: String,\n      required: true,\n    },\n    videoUrl: {\n      type: String,\n      required: true,\n    },\n    category: {\n      type: String,\n      required: true,\n      enum: [\"Beginner\", \"Intermediate\", \"Advanced\"],\n    },\n    length: {\n      type: Number,\n      required: true,\n    },\n    //RATING AND LIKES CAN BE ADDED LATER\n    // rating: { //   type: Number,\n    //   enum: [1,2,3,4,5]\n    // },\n\n    likes: {\n      type: Number,\n      default: 0,\n      min: 0,\n      max: 1,\n    },\n\n    //reference to the user\n    //   user: {\n    //     type: mongoose.Schema.Types.ObjectId,\n    //     ref: \"User\",\n    //   },\n  },\n  { timestamps: true }\n);\n\n// Add middlewares to enable cors and json body parsing\napp.use(cors());\napp.use(bodyParser.json());\n\nconst User = mongoose.model(\"User\", userSchema);\nconst Video = mongoose.model(\"Video\", videoSchema);\n\n//Provide error of server\n\napp.use((req, res, next) => {\n  if (mongoose.connection.readyState === 1) {\n    next();\n  } else {\n    res.status(503).json({ error: \"Service unavailable at the moment\" });\n  }\n});\n\n// Start defining routes here\napp.get(\"/\", (req, res) => {\n  res.send(listEndpoints(app));\n});\n\n// HERE ARE THE ENDPOINTS FOR SIGN IN / SIGN UP\n\n//this middleware is for user authentification\nconst authenticateUser = async (req, res, next) => {\n  try {\n    const accessToken = req.header(\"Authorization\");\n    const user = await User.findOne({ accessToken });\n    if (!user) {\n      throw \"User not found\";\n    }\n    req.user = user;\n    next();\n  } catch (err) {\n    const errorMessage = \"User not found. Please try logging in again\";\n    res.status(401).json({ error: errorMessage });\n  }\n};\n\n// Sign-up\n\napp.post(\"/users\", async (req, res) => {\n  try {\n    const { userName, email, password } = req.body;\n    console.log(\"!!!\", userName, email, password);\n    const SALT = bcrypt.genSaltSync(10);\n    const user = await new User({\n      userName,\n      email,\n      password: bcrypt.hashSync(password, SALT),\n    }).save();\n    res.status(200).json({\n      message: \"User created!\",\n      userId: user._id,\n      accessToken: user.accessToken,\n      userName: user.userName,\n      email: user.email,\n      password: user.password,\n    });\n  } catch (err) {\n    console.log(\"!!!\", err, \"!!!\");\n    res.status(400).json({ message: \"Could not create user\", errors: err });\n  }\n});\n\napp.post(\"/sessions\", async (req, res) => {\n  try {\n    const { email, password } = req.body;\n    const accessTokenUpdate = crypto.randomBytes(128).toString(\"hex\");\n    console.log(\"!!!\", email, password);\n    const user = await User.findOne({ email });\n    if (user && bcrypt.compareSync(password, user.password)) {\n      const updatedUser = await User.findOneAndUpdate(\n        { email: email },\n        { accessToken: accessTokenUpdate },\n        { new: true, useFindAndModify: false }\n      );\n      res.status(200).json({\n        userId: updatedUser._id,\n        accessToken: updatedUser.accessToken,\n        userName: updatedUser.userName,\n      });\n    } else {\n      throw \"User not found\";\n    }\n  } catch (err) {\n    res.status(404).json({ error: \"User not found\" });\n  }\n});\n\n//Logout\n// app.post(\"/users/logout\", authenticateUser);\n// app.post(\"users/logout\", async (req, res) => {\n//   try {\n//     const { userId } = req.body;\n//     const updatedUser = await User.findOneAndUpdate(\n//       //need to see why the user ID stays\n//       { _id: userId },\n//       { accessToken: null },\n//       { new: true, useFindAndModify: false }\n//     );\n//     res.status(200).json({\n//       userId: updatedUser._id,\n//       accessToken: updatedUser.accessToken,\n//     });\n//   } catch (err) {\n//     res.status(400).json({ error: err, message: \"Could not log out\" });\n//   }\n// });\n\n// HERE ARE THE ENDPOINTS TO WORK WITH VIDEO COLLECTION\n\n//get the collection of all videos available to everyone { WORKING }\napp.get(\"/videos\", async (req, res) => {\n  const videos = await Video.find()\n    .sort({ createdAt: \"desc\" })\n    .limit(20)\n    .exec();\n  res.json(videos);\n});\n\n//top 10 videos\n\n//Route to find one specific video by id { WORKING }\napp.get(\"/videos/:id\", async (req, res) => {\n  const videoById = await Video.findOne({ _id: req.params.id });\n  if (videoById) {\n    res.json(videoById);\n  } else {\n    res.status(404).json({ error: \"Video not found\" });\n  }\n});\n\n//filter videos by length\n\n//filter short videos - 15, 30, 60\napp.get(\"/videos/length/30\", async (req, res) => {\n  const videosByLength = await Video.find({ length: 30 });\n  if (videosByLength) {\n    res.json(videosByLength);\n  } else {\n    res.status(404).json({ error: \"No such video found\" });\n  }\n});\napp.get(\"/videos/length/15\", async (req, res) => {\n  const videosByLength = await Video.find({ length: 15 });\n  if (videosByLength) {\n    res.json(videosByLength);\n  } else {\n    res.status(404).json({ error: \"No such video found\" });\n  }\n});\napp.get(\"/videos/length/20\", async (req, res) => {\n  const videosByLength = await Video.find({ length: 20 });\n  if (videosByLength) {\n    res.json(videosByLength);\n  } else {\n    res.status(404).json({ error: \"No such video found\" });\n  }\n});\n// app.get(\"/videos/duration/:length\", async (req, res) => {\n//   const videoByDuration = req.params.length;\n//   const video = await Video.findAll({\n//     // //length: { $regex:(\"/[[0-9]+]/\") }\n//     length: 20,\n//   });\n//   if (video.length > 0) {\n//     res.json(video);\n//   } else {\n//     res.status(404).json({ error: \"No such video found\" });\n//   }\n// });\n// PUT: endpoint to add favoritevideo for a logged-in user:\n// UPDATES the user and adds the favorite video to the favorite videos-array for that user.\n\n//<----------SHOW FAVORITE VIDEOS, ADD TO FAVORITE AND DELETE FROM FAVORITE---------->\n//--ADD--\n// app.put(\"/users/:userId/favorites/:videoId\", authenticateUser);\n// app.put(\"/users/:userId/favorites/:videoId\", async (req, res) => {\n//   const { userId, videoId } = req.params;\n//   try {\n//     const selectedVideo = await Video.findById(videoId); // Find the video the user wants to add.\n//     const selectedVideos = await req.user.selectedVideos; // array of selected videos in user model\n//     //const getCurrentSelectedVideos = await Video.find({\n//     //  _id: selectedVideos,\n//    //});\n//     //console.log(\"currentselected\", getCurrentSelectedVideos);\n//     //console.log(\"selectedVideo\", selectedVideo);\n//     console.log(\"selectedVideos\", selectedVideos);\n//     //if (selectedVideos.some((video) => video._id === selectedVideo._id)) {\n//     //  alert(\"Video already existst!\");\n//     //} else {\n//      // alert(\"Object not found.\");\n//       await User.updateOne(\n//         { _id: userId },\n//         { $push: { selectedVideos: selectedVideo } } //push the selected video into the favorite videos array\n//       );\n//     }\n//     console.log(\"\");\n//     res.status(200).json(selectedVideo);\n//   } catch (err) {\n//     res.status(404).json({\n//       message: \"Could not add video.\",\n//       errors: { message: err.message, error: err },\n//     });\n//   }\n// });\n\n//----old version without filtering duplicates\napp.put(\"/users/:userId/favorites/:videoId\", authenticateUser);\napp.put(\"/users/:userId/favorites/:videoId\", async (req, res) => {\n  const { userId, videoId } = req.params;\n  try {\n    const selectedVideo = await Video.findById(videoId); // Find the video the user wants to add.\n    console.log(\"selectedVideo\", selectedVideo);\n    await User.updateOne(\n      { _id: userId },\n      { $push: { selectedVideos: selectedVideo } } //push the selected video into the favorite videos array\n    );\n    //console.log(\"\")\n    res.status(200).json(selectedVideo);\n  } catch (err) {\n    res.status(404).json({\n      message: \"Could not add video.\",\n      errors: { message: err.message, error: err },\n    });\n  }\n});\n//--DELETE--\napp.delete(\"/users/:userId/favorites/:videoId\", authenticateUser);\napp.delete(\"/users/:userId/favorites/:videoId\", async (req, res) => {\n  const { userId, videoId } = req.params;\n  try {\n    const selectedVideo = await Video.findById(videoId); // Find the video the user wants to delete.\n    console.log(\"selectedVideo\", selectedVideo);\n    await User.updateOne(\n      { _id: userId },\n      { $pull: { selectedVideos: { $in: [selectedVideo] } } } //delete the selected video from the favorite videos array\n    );\n    //$pull: { fruits: { $in: [ \"apples\", \"oranges\" ] }\n    //console.log(\"\")\n    res.status(200).json(selectedVideo);\n  } catch (err) {\n    console.log(err);\n    res.status(404).json({\n      message: \"Could not remove video.\",\n      errors: { message: err.message, error: err },\n    });\n  }\n});\n//--SHOW FAVORITE VIDEOS--\napp.get(\"/users/:userId/favorites\", authenticateUser);\napp.get(\"/users/:userId/favorites\", async (req, res) => {\n  try {\n    const userId = req.params.userId;\n    if (userId != req.user._id) {\n      throw \"Access denied\";\n    }\n    const favoritesArray = await req.user.selectedVideos; //array of added videos (video-id:s)\n    const getCurrentFavoriteVideos = await Video.find({\n      _id: favoritesArray,\n    }); // gives the  video-object in user favorites\n    res.status(200).json(getCurrentFavoriteVideos);\n  } catch (err) {\n    res.status(403).json({\n      message: \"Could not get favorite videos. User must be logged in.\",\n      errors: { message: err.message, error: err },\n    });\n  }\n});\n\n//i need to limit likes on and off for ine particulat user to be able to filter videos by total amount of likes\napp.post(\"/videos/:id/like\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    await Video.updateOne({ _id: id }, { $inc: { likes: 1 } });\n    res.status(200).json({ success: true });\n  } catch (err) {\n    res\n      .status(400)\n      .json({ message: ERR_CANNOT_FIND_VIDEO_BY_ID, errors: err.errors });\n  }\n});\n\n//post a video, function available only for admins { WORKING }\napp.post(\"/videos\", async (req, res) => {\n  //Try catch\n  try {\n    //Success case\n    //retrive the information sent by the client to our API endpoint\n    const { videoName, videoUrl, description, length, category } = req.body;\n    const video = new Video({\n      videoName,\n      videoUrl,\n      description,\n      length,\n      category,\n    });\n    const savedVideo = await video.save();\n    res.status(200).json(savedVideo);\n  } catch (err) {\n    //bad request sending the status to the server and the message\n    res\n      .status(400)\n      .json({ message: ERR_CANNOT_SAVE_TO_DATABASE, errors: err.errors });\n  }\n});\n//delete a video function is available only for admin  {WORKING}\napp.delete(\"/videos/:id\", async (req, res) => {\n  try {\n    //try to delete and send a successful response\n    const { id } = req.params;\n    await Video.deleteOne({ _id: id });\n    res.status(200).json({ success: true });\n  } catch (error) {\n    console.log(error);\n    //inform the client about the deletion failure\n    res.status(400).json({ success: false });\n  }\n});\n\n// updating a video endpoint\n// app.patch(\"/videos/:id\", async (req, res) => {\n//   try {\n//     //try to delete and send a successful response\n//     const video = await Video.findByID({ _id: id });\n//     const {\n//       videoName = video.videoName,\n//       videoUrl = video.videoUrl,\n//       description = video.description,\n//       category = video.category,\n//       length = video.length,\n//     } = req.body;\n//     const updateVideo = await Video.findByIdAndUpdate(\n//       { _id: id },\n//       { videoName, videoUrl, description, category, length },\n//       { runValidators: true }\n//     );\n//     return res.status(202).json(updatedVideo);\n//   } catch (error) {\n//     try {\n//       await Video.findById({ _id: id }); // id is matching, the model validation is off\n//       return res\n//         .status(400)\n//         .json({ message: \"Could not update video\", error: err.message });\n//     } catch (err) {\n//       // id is not matching, the validation can be either right or wrong\n//       return res.status(404).json({ message: ERR_CANNOT_FIND_VIDEO_BY_ID, id });\n//     }\n//   }\n// });\n\n// Start the server\napp.listen(port, () => {\n  console.log(`Server running on http://localhost:${port}`);\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1612882265470
  }
}