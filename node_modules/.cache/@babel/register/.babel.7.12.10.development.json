{
  "{\"sourceRoot\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend\",\"filename\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend",
      "filename": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "StaticBlock": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _expressListEndpoints = _interopRequireDefault(require(\"express-list-endpoints\"));\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// Defines the port the app will run on.\nvar port = process.env.PORT || 8080;\nvar app = (0, _express[\"default\"])(); // error messages\n\nvar ERR_CANNOT_SAVE_TO_DATABASE = \"Could not save video to the Database\";\nvar ERR_CANNOT_FIND_VIDEO_BY_ID = \"Could not find video by id provided\";\nvar mongoUrl = process.env.MONGO_URL || \"mongodb://localhost/yogaStudio\";\n\n_mongoose[\"default\"].connect(mongoUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\n_mongoose[\"default\"].Promise = Promise; //user schema for sign in and sugn up with relation to video schema to store user's favourite videos\n\nvar userSchema = new _mongoose[\"default\"].Schema({\n  userName: {\n    type: String,\n    minlength: 5,\n    maxlength: 20,\n    unique: true,\n    required: true\n  },\n  email: {\n    type: String,\n    unique: true\n  },\n  password: {\n    type: String,\n    minlength: 6,\n    required: true\n  },\n  accessToken: {\n    type: String,\n    \"default\": function _default() {\n      return _crypto[\"default\"].randomBytes(128).toString(\"hex\");\n    }\n  },\n  isAdmin: {\n    type: Boolean,\n    \"default\": false\n  },\n  //reference to the videos, storing them in the array\n  selectedVideos: [{\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    ref: \"Video\"\n  }] // selectedVideos: {\n  //   type: Array,\n  // },\n\n}); //week 18th and date 16th watch\n\nvar videoSchema = new _mongoose[\"default\"].Schema({\n  videoName: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  videoUrl: {\n    type: String,\n    required: true\n  },\n  // category: {\n  //   type: String,\n  //   required: true,\n  //   enum: [\"Beginner\", \"Intermediate\", \"Advanced\"],\n  // },\n  length: {\n    type: Number,\n    required: true\n  } //RATING AND LIKES CAN BE ADDED LATER\n  // rating: {\n  //   type: Number,\n  //   enum: [1,2,3,4,5]\n  // },\n  // likes: {\n  //   type: Number,\n  //   default: 0,\n  // },\n  //reference to the user\n  //   user: {\n  //     type: mongoose.Schema.Types.ObjectId,\n  //     ref: \"User\",\n  //   },\n\n}, {\n  timestamps: true\n}); // Add middlewares to enable cors and json body parsing\n\napp.use((0, _cors[\"default\"])());\napp.use(_bodyParser[\"default\"].json());\n\nvar User = _mongoose[\"default\"].model(\"User\", userSchema);\n\nvar Video = _mongoose[\"default\"].model(\"Video\", videoSchema); //Provide error of server\n\n\napp.use(function (req, res, next) {\n  if (_mongoose[\"default\"].connection.readyState === 1) {\n    next();\n  } else {\n    res.status(503).json({\n      error: \"Service unavailable at the moment\"\n    });\n  }\n}); // Start defining routes here\n\napp.get(\"/\", function (req, res) {\n  res.send(\"Hello world\");\n}); // HERE ARE THE ENDPOINTS FOR SIGN IN / SIGN UP\n// const authenticateUser = async (req, res, next) => {\n//   try {\n//     const accessToken = req.header(\"Authorization\");\n//     const user = await User.findOne({ accessToken });\n//     if (!user) {\n//       throw \"User not found\";\n//     }\n//     req.user = user;\n//     next();\n//   } catch (err) {\n//     const errorMessage = \"Please try logging in again\";\n//     res.status(401).json({ error: errorMessage });\n//   }\n// };\n// Sign-up\n\napp.post(\"/users\", /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    var _req$body, userName, email, password, SALT, user;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _req$body = req.body, userName = _req$body.userName, email = _req$body.email, password = _req$body.password;\n            console.log(\"!!!\", userName, email, password);\n            SALT = _bcrypt[\"default\"].genSaltSync(10);\n            _context.next = 6;\n            return new User({\n              userName: userName,\n              email: email,\n              password: _bcrypt[\"default\"].hashSync(password, SALT)\n            }).save();\n\n          case 6:\n            user = _context.sent;\n            res.status(200).json({\n              userId: user._id,\n              accessToken: user.accessToken\n            });\n            _context.next = 14;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(\"!!!\", _context.t0, \"!!!\");\n            res.status(400).json({\n              message: \"Could not create user\",\n              errors: _context.t0\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}()); // Login\n\napp.post(\"/sessions\", /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n    var _req$body2, email, password, user;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password;\n            _context2.next = 4;\n            return User.findOne({\n              email: email\n            });\n\n          case 4:\n            user = _context2.sent;\n\n            if (!(user && _bcrypt[\"default\"].compareSync(password, user.password))) {\n              _context2.next = 9;\n              break;\n            }\n\n            res.status(200).json({\n              userId: user._id,\n              accessToken: user.accessToken\n            });\n            _context2.next = 10;\n            break;\n\n          case 9:\n            throw \"User not found\";\n\n          case 10:\n            _context2.next = 15;\n            break;\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](0);\n            res.status(404).json({\n              error: \"User not found\"\n            });\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 12]]);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}()); // HERE ARE THE ENDPOINTS TO WORK WITH VIDEO COLLECTION\n//get the collection of all videos available to everyone\n\napp.get(\"/videos\", /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n    var videos;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return Video.find().sort({\n              createdAt: \"desc\"\n            }).limit(8).exec();\n\n          case 2:\n            videos = _context3.sent;\n            res.json(videos);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}()); //top 10 videos\n//Route to find one specific video by id\n\napp.get(\"/videos/:id\", /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n    var videoById;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return Video.findOne({\n              id: req.params.id\n            });\n\n          case 2:\n            videoById = _context4.sent;\n\n            if (videoById) {\n              res.json(videoById);\n            } else {\n              res.status(404).json({\n                error: \"Video not found\"\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}()); //filter videos by length\n//filter short videos - 15, 30, 60\n\napp.get(\"/video/length\", /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n    var shortVideos;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return Video.find({\n              length: {\n                $lt: 15\n              }\n            });\n\n          case 2:\n            shortVideos = _context5.sent;\n\n            if (shortVideos.length > 0) {\n              res.json(shortVideos);\n            } else {\n              res.status(404).json({\n                error: \"No such video found\"\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}()); //video by level\n//videos available when signed in\n//your favourite videos\n// video liked\n//i need to limit likes on and off for ine particulat user to be able to filter videos by total amount of likes\n\napp.post(\"/videos/:id/liked\", /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(req, res) {\n    var id;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            id = req.params.id;\n            _context6.next = 4;\n            return Video.updateOne({\n              _id: id\n            }, {\n              $inc: {\n                likes: 1\n              }\n            });\n\n          case 4:\n            res.status(200).json({\n              success: true\n            });\n            _context6.next = 10;\n            break;\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6[\"catch\"](0);\n            res.status(400).json({\n              message: ERR_CANNOT_FIND_VIDEO_BY_ID,\n              errors: _context6.t0.errors\n            });\n\n          case 10:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[0, 7]]);\n  }));\n\n  return function (_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}()); //post a video, function available only for admins\n\napp.post(\"/videos\", /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(req, res) {\n    var _req$body3, videoName, videoUrl, description, length, video, savedVideo;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            //Success case\n            //retrive the information sent by the client to our API endpoint\n            _req$body3 = req.body, videoName = _req$body3.videoName, videoUrl = _req$body3.videoUrl, description = _req$body3.description, length = _req$body3.length;\n            video = new Video({\n              videoName: videoName,\n              videoUrl: videoUrl,\n              description: description,\n              length: length\n            });\n            _context7.next = 5;\n            return video.save();\n\n          case 5:\n            savedVideo = _context7.sent;\n            res.status(200).json(savedVideo);\n            _context7.next = 12;\n            break;\n\n          case 9:\n            _context7.prev = 9;\n            _context7.t0 = _context7[\"catch\"](0);\n            //bad request sending the status to the server and the message\n            res.status(400).json({\n              message: ERR_CANNOT_SAVE_TO_DATABASE,\n              errors: _context7.t0.errors\n            });\n\n          case 12:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[0, 9]]);\n  }));\n\n  return function (_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}()); //delete a video function is available only for admin\n\napp[\"delete\"](\"/videos/:id\", /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(req, res) {\n    var id;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            //try to delete and send a successful response\n            id = req.params.id;\n            _context8.next = 4;\n            return Video.deleteOne({\n              _id: id\n            });\n\n          case 4:\n            res.status(200).json({\n              success: true\n            });\n            _context8.next = 11;\n            break;\n\n          case 7:\n            _context8.prev = 7;\n            _context8.t0 = _context8[\"catch\"](0);\n            console.log(_context8.t0); //inform the client about the deletion failure\n\n            res.status(400).json({\n              success: false\n            });\n\n          case 11:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8, null, [[0, 7]]);\n  }));\n\n  return function (_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}()); // Start the server\n\napp.listen(port, function () {\n  console.log(\"Server running on http://localhost:\".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJhcHAiLCJFUlJfQ0FOTk9UX1NBVkVfVE9fREFUQUJBU0UiLCJFUlJfQ0FOTk9UX0ZJTkRfVklERU9fQllfSUQiLCJtb25nb1VybCIsIk1PTkdPX1VSTCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsIlByb21pc2UiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwidXNlck5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwidW5pcXVlIiwicmVxdWlyZWQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWNjZXNzVG9rZW4iLCJjcnlwdG8iLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJzZWxlY3RlZFZpZGVvcyIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ2aWRlb1NjaGVtYSIsInZpZGVvTmFtZSIsImRlc2NyaXB0aW9uIiwidmlkZW9VcmwiLCJsZW5ndGgiLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJVc2VyIiwibW9kZWwiLCJWaWRlbyIsInJlcSIsInJlcyIsIm5leHQiLCJjb25uZWN0aW9uIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImVycm9yIiwiZ2V0Iiwic2VuZCIsInBvc3QiLCJib2R5IiwiY29uc29sZSIsImxvZyIsIlNBTFQiLCJiY3J5cHQiLCJnZW5TYWx0U3luYyIsImhhc2hTeW5jIiwic2F2ZSIsInVzZXIiLCJ1c2VySWQiLCJfaWQiLCJtZXNzYWdlIiwiZXJyb3JzIiwiZmluZE9uZSIsImNvbXBhcmVTeW5jIiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJsaW1pdCIsImV4ZWMiLCJ2aWRlb3MiLCJpZCIsInBhcmFtcyIsInZpZGVvQnlJZCIsIiRsdCIsInNob3J0VmlkZW9zIiwidXBkYXRlT25lIiwiJGluYyIsImxpa2VzIiwic3VjY2VzcyIsInZpZGVvIiwic2F2ZWRWaWRlbyIsImRlbGV0ZU9uZSIsImxpc3RlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFDQTtBQUVBLElBQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBakM7QUFDQSxJQUFNQyxHQUFHLEdBQUcsMEJBQVosQyxDQUVBOztBQUNBLElBQU1DLDJCQUEyQixHQUFHLHNDQUFwQztBQUNBLElBQU1DLDJCQUEyQixHQUFHLHFDQUFwQztBQUVBLElBQU1DLFFBQVEsR0FBR04sT0FBTyxDQUFDQyxHQUFSLENBQVlNLFNBQVosSUFBeUIsZ0NBQTFDOztBQUNBQyxxQkFBU0MsT0FBVCxDQUFpQkgsUUFBakIsRUFBMkI7QUFBRUksRUFBQUEsZUFBZSxFQUFFLElBQW5CO0FBQXlCQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUE3QyxDQUEzQjs7QUFDQUgscUJBQVNJLE9BQVQsR0FBbUJBLE9BQW5CLEMsQ0FFQTs7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUwscUJBQVNNLE1BQWIsQ0FBb0I7QUFDckNDLEVBQUFBLFFBQVEsRUFBRTtBQUNSQyxJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsU0FBUyxFQUFFLENBRkg7QUFHUkMsSUFBQUEsU0FBUyxFQUFFLEVBSEg7QUFJUkMsSUFBQUEsTUFBTSxFQUFFLElBSkE7QUFLUkMsSUFBQUEsUUFBUSxFQUFFO0FBTEYsR0FEMkI7QUFRckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMTixJQUFBQSxJQUFJLEVBQUVDLE1BREQ7QUFFTEcsSUFBQUEsTUFBTSxFQUFFO0FBRkgsR0FSOEI7QUFZckNHLEVBQUFBLFFBQVEsRUFBRTtBQUNSUCxJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsU0FBUyxFQUFFLENBRkg7QUFHUkcsSUFBQUEsUUFBUSxF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SyxDQUFDMkMsU0FBTixDQUFnQjtBQUFFdEIsY0FBQUEsR0FBRyxFQUFFVztBQUFQLGFBQWhCLENBSmdCOztBQUFBO0FBS3RCOUIsWUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRTJDLGNBQUFBLE9BQU8sRUFBRTtBQUFYLGFBQXJCO0FBTHNCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBT3RCNUIsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLGVBUHNCLENBUXRCOztBQUNBWCxZQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCVCxJQUFoQixDQUFxQjtBQUFFMkMsY0FBQUEsT0FBTyxFQUFFO0FBQVgsYUFBckI7O0FBVHNCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQTFCOztBQUFBO0FBQUE7QUFBQTtBQUFBLEssQ0FhQTs7QUFDQW5GLEdBQUcsQ0FBQ3VGLE1BQUosQ0FBVzNGLElBQVgsRUFBaUIsWUFBTTtBQUNyQjJELEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUiw4Q0FBa0Q1RCxJQUFsRDtBQUNELENBRkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL2VsaXphdmV0YW1pbmljYW4vRGVza3RvcC9wcm9qZWN0c19tYWluL1RFQ0hOSUdPL2ZpbmFsLXByb2plY3QteW9nYS1zdHVkaW8tYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tIFwiZXhwcmVzcy1saXN0LWVuZHBvaW50c1wiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbi8vIERlZmluZXMgdGhlIHBvcnQgdGhlIGFwcCB3aWxsIHJ1biBvbi5cblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgODA4MDtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gZXJyb3IgbWVzc2FnZXNcbmNvbnN0IEVSUl9DQU5OT1RfU0FWRV9UT19EQVRBQkFTRSA9IFwiQ291bGQgbm90IHNhdmUgdmlkZW8gdG8gdGhlIERhdGFiYXNlXCI7XG5jb25zdCBFUlJfQ0FOTk9UX0ZJTkRfVklERU9fQllfSUQgPSBcIkNvdWxkIG5vdCBmaW5kIHZpZGVvIGJ5IGlkIHByb3ZpZGVkXCI7XG5cbmNvbnN0IG1vbmdvVXJsID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMIHx8IFwibW9uZ29kYjovL2xvY2FsaG9zdC95b2dhU3R1ZGlvXCI7XG5tb25nb29zZS5jb25uZWN0KG1vbmdvVXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0pO1xubW9uZ29vc2UuUHJvbWlzZSA9IFByb21pc2U7XG5cbi8vdXNlciBzY2hlbWEgZm9yIHNpZ24gaW4gYW5kIHN1Z24gdXAgd2l0aCByZWxhdGlvbiB0byB2aWRlbyBzY2hlbWEgdG8gc3RvcmUgdXNlcidzIGZhdm91cml0ZSB2aWRlb3NcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdXNlck5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgbWlubGVuZ3RoOiA1LFxuICAgIG1heGxlbmd0aDogMjAsXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB1bmlxdWU6IHRydWUsXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIG1pbmxlbmd0aDogNixcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgYWNjZXNzVG9rZW46IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogKCkgPT4gY3J5cHRvLnJhbmRvbUJ5dGVzKDEyOCkudG9TdHJpbmcoXCJoZXhcIiksXG4gIH0sXG4gIGlzQWRtaW46IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICB9LFxuICAvL3JlZmVyZW5jZSB0byB0aGUgdmlkZW9zLCBzdG9yaW5nIHRoZW0gaW4gdGhlIGFycmF5XG4gIHNlbGVjdGVkVmlkZW9zOiBbeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJWaWRlb1wiIH1dLFxuXG4gIC8vIHNlbGVjdGVkVmlkZW9zOiB7XG4gIC8vICAgdHlwZTogQXJyYXksXG4gIC8vIH0sXG59KTtcblxuLy93ZWVrIDE4dGggYW5kIGRhdGUgMTZ0aCB3YXRjaFxuXG5jb25zdCB2aWRlb1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICB2aWRlb05hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgZGVzY3JpcHRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgdmlkZW9Vcmw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgLy8gY2F0ZWdvcnk6IHtcbiAgICAvLyAgIHR5cGU6IFN0cmluZyxcbiAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIC8vICAgZW51bTogW1wiQmVnaW5uZXJcIiwgXCJJbnRlcm1lZGlhdGVcIiwgXCJBZHZhbmNlZFwiXSxcbiAgICAvLyB9LFxuICAgIGxlbmd0aDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICAvL1JBVElORyBBTkQgTElLRVMgQ0FOIEJFIEFEREVEIExBVEVSXG4gICAgLy8gcmF0aW5nOiB7XG4gICAgLy8gICB0eXBlOiBOdW1iZXIsXG4gICAgLy8gICBlbnVtOiBbMSwyLDMsNCw1XVxuICAgIC8vIH0sXG5cbiAgICAvLyBsaWtlczoge1xuICAgIC8vICAgdHlwZTogTnVtYmVyLFxuICAgIC8vICAgZGVmYXVsdDogMCxcbiAgICAvLyB9LFxuXG4gICAgLy9yZWZlcmVuY2UgdG8gdGhlIHVzZXJcbiAgICAvLyAgIHVzZXI6IHtcbiAgICAvLyAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIC8vICAgICByZWY6IFwiVXNlclwiLFxuICAgIC8vICAgfSxcbiAgfSxcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cbik7XG5cbi8vIEFkZCBtaWRkbGV3YXJlcyB0byBlbmFibGUgY29ycyBhbmQganNvbiBib2R5IHBhcnNpbmdcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJVc2VyXCIsIHVzZXJTY2hlbWEpO1xuY29uc3QgVmlkZW8gPSBtb25nb29zZS5tb2RlbChcIlZpZGVvXCIsIHZpZGVvU2NoZW1hKTtcblxuLy9Qcm92aWRlIGVycm9yIG9mIHNlcnZlclxuXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNTAzKS5qc29uKHsgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZSBhdCB0aGUgbW9tZW50XCIgfSk7XG4gIH1cbn0pO1xuXG4vLyBTdGFydCBkZWZpbmluZyByb3V0ZXMgaGVyZVxuYXBwLmdldChcIi9cIiwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kKFwiSGVsbG8gd29ybGRcIik7XG59KTtcblxuLy8gSEVSRSBBUkUgVEhFIEVORFBPSU5UUyBGT1IgU0lHTiBJTiAvIFNJR04gVVBcblxuLy8gY29uc3QgYXV0aGVudGljYXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gcmVxLmhlYWRlcihcIkF1dGhvcml6YXRpb25cIik7XG4vLyAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGFjY2Vzc1Rva2VuIH0pO1xuLy8gICAgIGlmICghdXNlcikge1xuLy8gICAgICAgdGhyb3cgXCJVc2VyIG5vdCBmb3VuZFwiO1xuLy8gICAgIH1cbi8vICAgICByZXEudXNlciA9IHVzZXI7XG4vLyAgICAgbmV4dCgpO1xuLy8gICB9IGNhdGNoIChlcnIpIHtcbi8vICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBcIlBsZWFzZSB0cnkgbG9nZ2luZyBpbiBhZ2FpblwiO1xuLy8gICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IGVycm9yTWVzc2FnZSB9KTtcbi8vICAgfVxuLy8gfTtcblxuLy8gU2lnbi11cFxuXG5hcHAucG9zdChcIi91c2Vyc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVzZXJOYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnNvbGUubG9nKFwiISEhXCIsIHVzZXJOYW1lLCBlbWFpbCwgcGFzc3dvcmQpO1xuICAgIGNvbnN0IFNBTFQgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICB1c2VyTmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgU0FMVCksXG4gICAgfSkuc2F2ZSgpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcklkOiB1c2VyLl9pZCwgYWNjZXNzVG9rZW46IHVzZXIuYWNjZXNzVG9rZW4gfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKFwiISEhXCIsIGVyciwgXCIhISFcIik7XG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkNvdWxkIG5vdCBjcmVhdGUgdXNlclwiLCBlcnJvcnM6IGVyciB9KTtcbiAgfVxufSk7XG5cbi8vIExvZ2luXG5hcHAucG9zdChcIi9zZXNzaW9uc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsIH0pO1xuICAgIGlmICh1c2VyICYmIGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgdXNlci5wYXNzd29yZCkpIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcklkOiB1c2VyLl9pZCwgYWNjZXNzVG9rZW46IHVzZXIuYWNjZXNzVG9rZW4gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IFwiVXNlciBub3QgZm91bmRcIjtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6IFwiVXNlciBub3QgZm91bmRcIiB9KTtcbiAgfVxufSk7XG4vLyBIRVJFIEFSRSBUSEUgRU5EUE9JTlRTIFRPIFdPUksgV0lUSCBWSURFTyBDT0xMRUNUSU9OXG5cbi8vZ2V0IHRoZSBjb2xsZWN0aW9uIG9mIGFsbCB2aWRlb3MgYXZhaWxhYmxlIHRvIGV2ZXJ5b25lXG5hcHAuZ2V0KFwiL3ZpZGVvc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdmlkZW9zID0gYXdhaXQgVmlkZW8uZmluZCgpLnNvcnQoeyBjcmVhdGVkQXQ6IFwiZGVzY1wiIH0pLmxpbWl0KDgpLmV4ZWMoKTtcbiAgcmVzLmpzb24odmlkZW9zKTtcbn0pO1xuXG4vL3RvcCAxMCB2aWRlb3NcblxuLy9Sb3V0ZSB0byBmaW5kIG9uZSBzcGVjaWZpYyB2aWRlbyBieSBpZFxuYXBwLmdldChcIi92aWRlb3MvOmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB2aWRlb0J5SWQgPSBhd2FpdCBWaWRlby5maW5kT25lKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gIGlmICh2aWRlb0J5SWQpIHtcbiAgICByZXMuanNvbih2aWRlb0J5SWQpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6IFwiVmlkZW8gbm90IGZvdW5kXCIgfSk7XG4gIH1cbn0pO1xuXG4vL2ZpbHRlciB2aWRlb3MgYnkgbGVuZ3RoXG5cbi8vZmlsdGVyIHNob3J0IHZpZGVvcyAtIDE1LCAzMCwgNjBcbmFwcC5nZXQoXCIvdmlkZW8vbGVuZ3RoXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzaG9ydFZpZGVvcyA9IGF3YWl0IFZpZGVvLmZpbmQoeyBsZW5ndGg6IHsgJGx0OiAxNSB9IH0pO1xuICBpZiAoc2hvcnRWaWRlb3MubGVuZ3RoID4gMCkge1xuICAgIHJlcy5qc29uKHNob3J0VmlkZW9zKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIk5vIHN1Y2ggdmlkZW8gZm91bmRcIiB9KTtcbiAgfVxufSk7XG5cbi8vdmlkZW8gYnkgbGV2ZWxcblxuLy92aWRlb3MgYXZhaWxhYmxlIHdoZW4gc2lnbmVkIGluXG4vL3lvdXIgZmF2b3VyaXRlIHZpZGVvc1xuXG4vLyB2aWRlbyBsaWtlZFxuLy9pIG5lZWQgdG8gbGltaXQgbGlrZXMgb24gYW5kIG9mZiBmb3IgaW5lIHBhcnRpY3VsYXQgdXNlciB0byBiZSBhYmxlIHRvIGZpbHRlciB2aWRlb3MgYnkgdG90YWwgYW1vdW50IG9mIGxpa2VzXG5hcHAucG9zdChcIi92aWRlb3MvOmlkL2xpa2VkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgYXdhaXQgVmlkZW8udXBkYXRlT25lKHsgX2lkOiBpZCB9LCB7ICRpbmM6IHsgbGlrZXM6IDEgfSB9KTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlc1xuICAgICAgLnN0YXR1cyg0MDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IEVSUl9DQU5OT1RfRklORF9WSURFT19CWV9JRCwgZXJyb3JzOiBlcnIuZXJyb3JzIH0pO1xuICB9XG59KTtcblxuLy9wb3N0IGEgdmlkZW8sIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbmx5IGZvciBhZG1pbnNcbmFwcC5wb3N0KFwiL3ZpZGVvc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgLy9UcnkgY2F0Y2hcbiAgdHJ5IHtcbiAgICAvL1N1Y2Nlc3MgY2FzZVxuICAgIC8vcmV0cml2ZSB0aGUgaW5mb3JtYXRpb24gc2VudCBieSB0aGUgY2xpZW50IHRvIG91ciBBUEkgZW5kcG9pbnRcbiAgICBjb25zdCB7IHZpZGVvTmFtZSwgdmlkZW9VcmwsIGRlc2NyaXB0aW9uLCBsZW5ndGggfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHZpZGVvID0gbmV3IFZpZGVvKHtcbiAgICAgIHZpZGVvTmFtZSxcbiAgICAgIHZpZGVvVXJsLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBsZW5ndGgsXG4gICAgfSk7XG4gICAgY29uc3Qgc2F2ZWRWaWRlbyA9IGF3YWl0IHZpZGVvLnNhdmUoKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzYXZlZFZpZGVvKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy9iYWQgcmVxdWVzdCBzZW5kaW5nIHRoZSBzdGF0dXMgdG8gdGhlIHNlcnZlciBhbmQgdGhlIG1lc3NhZ2VcbiAgICByZXNcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLmpzb24oeyBtZXNzYWdlOiBFUlJfQ0FOTk9UX1NBVkVfVE9fREFUQUJBU0UsIGVycm9yczogZXJyLmVycm9ycyB9KTtcbiAgfVxufSk7XG4vL2RlbGV0ZSBhIHZpZGVvIGZ1bmN0aW9uIGlzIGF2YWlsYWJsZSBvbmx5IGZvciBhZG1pblxuYXBwLmRlbGV0ZShcIi92aWRlb3MvOmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIC8vdHJ5IHRvIGRlbGV0ZSBhbmQgc2VuZCBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIGF3YWl0IFZpZGVvLmRlbGV0ZU9uZSh7IF9pZDogaWQgfSk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAvL2luZm9ybSB0aGUgY2xpZW50IGFib3V0IHRoZSBkZWxldGlvbiBmYWlsdXJlXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgfVxufSk7XG5cbi8vIFN0YXJ0IHRoZSBzZXJ2ZXJcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgb24gaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9YCk7XG59KTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "port",
        "process",
        "env",
        "PORT",
        "app",
        "ERR_CANNOT_SAVE_TO_DATABASE",
        "ERR_CANNOT_FIND_VIDEO_BY_ID",
        "mongoUrl",
        "MONGO_URL",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "Promise",
        "userSchema",
        "Schema",
        "userName",
        "type",
        "String",
        "minlength",
        "maxlength",
        "unique",
        "required",
        "email",
        "password",
        "accessToken",
        "crypto",
        "randomBytes",
        "toString",
        "isAdmin",
        "Boolean",
        "selectedVideos",
        "Types",
        "ObjectId",
        "ref",
        "videoSchema",
        "videoName",
        "description",
        "videoUrl",
        "length",
        "Number",
        "timestamps",
        "use",
        "bodyParser",
        "json",
        "User",
        "model",
        "Video",
        "req",
        "res",
        "next",
        "connection",
        "readyState",
        "status",
        "error",
        "get",
        "send",
        "post",
        "body",
        "console",
        "log",
        "SALT",
        "bcrypt",
        "genSaltSync",
        "hashSync",
        "save",
        "user",
        "userId",
        "_id",
        "message",
        "errors",
        "findOne",
        "compareSync",
        "find",
        "sort",
        "createdAt",
        "limit",
        "exec",
        "videos",
        "id",
        "params",
        "videoById",
        "$lt",
        "shortVideos",
        "updateOne",
        "$inc",
        "likes",
        "success",
        "video",
        "savedVideo",
        "deleteOne",
        "listen"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/elizavetaminican/Desktop/projects_main/TECHNIGO/final-project-yoga-studio-backend/",
      "sourcesContent": [
        "import express from \"express\";\nimport bodyParser from \"body-parser\";\nimport cors from \"cors\";\nimport mongoose from \"mongoose\";\nimport endpoints from \"express-list-endpoints\";\nimport crypto from \"crypto\";\nimport bcrypt from \"bcrypt\";\n// Defines the port the app will run on.\n\nconst port = process.env.PORT || 8080;\nconst app = express();\n\n// error messages\nconst ERR_CANNOT_SAVE_TO_DATABASE = \"Could not save video to the Database\";\nconst ERR_CANNOT_FIND_VIDEO_BY_ID = \"Could not find video by id provided\";\n\nconst mongoUrl = process.env.MONGO_URL || \"mongodb://localhost/yogaStudio\";\nmongoose.connect(mongoUrl, { useNewUrlParser: true, useUnifiedTopology: true });\nmongoose.Promise = Promise;\n\n//user schema for sign in and sugn up with relation to video schema to store user's favourite videos\nconst userSchema = new mongoose.Schema({\n  userName: {\n    type: String,\n    minlength: 5,\n    maxlength: 20,\n    unique: true,\n    required: true,\n  },\n  email: {\n    type: String,\n    unique: true,\n  },\n  password: {\n    type: String,\n    minlength: 6,\n    required: true,\n  },\n  accessToken: {\n    type: String,\n    default: () => crypto.randomBytes(128).toString(\"hex\"),\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false,\n  },\n  //reference to the videos, storing them in the array\n  selectedVideos: [{ type: mongoose.Schema.Types.ObjectId, ref: \"Video\" }],\n\n  // selectedVideos: {\n  //   type: Array,\n  // },\n});\n\n//week 18th and date 16th watch\n\nconst videoSchema = new mongoose.Schema(\n  {\n    videoName: {\n      type: String,\n      required: true,\n    },\n    description: {\n      type: String,\n      required: true,\n    },\n    videoUrl: {\n      type: String,\n      required: true,\n    },\n    // category: {\n    //   type: String,\n    //   required: true,\n    //   enum: [\"Beginner\", \"Intermediate\", \"Advanced\"],\n    // },\n    length: {\n      type: Number,\n      required: true,\n    },\n    //RATING AND LIKES CAN BE ADDED LATER\n    // rating: {\n    //   type: Number,\n    //   enum: [1,2,3,4,5]\n    // },\n\n    // likes: {\n    //   type: Number,\n    //   default: 0,\n    // },\n\n    //reference to the user\n    //   user: {\n    //     type: mongoose.Schema.Types.ObjectId,\n    //     ref: \"User\",\n    //   },\n  },\n  { timestamps: true }\n);\n\n// Add middlewares to enable cors and json body parsing\napp.use(cors());\napp.use(bodyParser.json());\n\nconst User = mongoose.model(\"User\", userSchema);\nconst Video = mongoose.model(\"Video\", videoSchema);\n\n//Provide error of server\n\napp.use((req, res, next) => {\n  if (mongoose.connection.readyState === 1) {\n    next();\n  } else {\n    res.status(503).json({ error: \"Service unavailable at the moment\" });\n  }\n});\n\n// Start defining routes here\napp.get(\"/\", (req, res) => {\n  res.send(\"Hello world\");\n});\n\n// HERE ARE THE ENDPOINTS FOR SIGN IN / SIGN UP\n\n// const authenticateUser = async (req, res, next) => {\n//   try {\n//     const accessToken = req.header(\"Authorization\");\n//     const user = await User.findOne({ accessToken });\n//     if (!user) {\n//       throw \"User not found\";\n//     }\n//     req.user = user;\n//     next();\n//   } catch (err) {\n//     const errorMessage = \"Please try logging in again\";\n//     res.status(401).json({ error: errorMessage });\n//   }\n// };\n\n// Sign-up\n\napp.post(\"/users\", async (req, res) => {\n  try {\n    const { userName, email, password } = req.body;\n    console.log(\"!!!\", userName, email, password);\n    const SALT = bcrypt.genSaltSync(10);\n    const user = await new User({\n      userName,\n      email,\n      password: bcrypt.hashSync(password, SALT),\n    }).save();\n    res.status(200).json({ userId: user._id, accessToken: user.accessToken });\n  } catch (err) {\n    console.log(\"!!!\", err, \"!!!\");\n    res.status(400).json({ message: \"Could not create user\", errors: err });\n  }\n});\n\n// Login\napp.post(\"/sessions\", async (req, res) => {\n  try {\n    const { email, password } = req.body;\n    const user = await User.findOne({ email });\n    if (user && bcrypt.compareSync(password, user.password)) {\n      res.status(200).json({ userId: user._id, accessToken: user.accessToken });\n    } else {\n      throw \"User not found\";\n    }\n  } catch (err) {\n    res.status(404).json({ error: \"User not found\" });\n  }\n});\n// HERE ARE THE ENDPOINTS TO WORK WITH VIDEO COLLECTION\n\n//get the collection of all videos available to everyone\napp.get(\"/videos\", async (req, res) => {\n  const videos = await Video.find().sort({ createdAt: \"desc\" }).limit(8).exec();\n  res.json(videos);\n});\n\n//top 10 videos\n\n//Route to find one specific video by id\napp.get(\"/videos/:id\", async (req, res) => {\n  const videoById = await Video.findOne({ id: req.params.id });\n  if (videoById) {\n    res.json(videoById);\n  } else {\n    res.status(404).json({ error: \"Video not found\" });\n  }\n});\n\n//filter videos by length\n\n//filter short videos - 15, 30, 60\napp.get(\"/video/length\", async (req, res) => {\n  const shortVideos = await Video.find({ length: { $lt: 15 } });\n  if (shortVideos.length > 0) {\n    res.json(shortVideos);\n  } else {\n    res.status(404).json({ error: \"No such video found\" });\n  }\n});\n\n//video by level\n\n//videos available when signed in\n//your favourite videos\n\n// video liked\n//i need to limit likes on and off for ine particulat user to be able to filter videos by total amount of likes\napp.post(\"/videos/:id/liked\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    await Video.updateOne({ _id: id }, { $inc: { likes: 1 } });\n    res.status(200).json({ success: true });\n  } catch (err) {\n    res\n      .status(400)\n      .json({ message: ERR_CANNOT_FIND_VIDEO_BY_ID, errors: err.errors });\n  }\n});\n\n//post a video, function available only for admins\napp.post(\"/videos\", async (req, res) => {\n  //Try catch\n  try {\n    //Success case\n    //retrive the information sent by the client to our API endpoint\n    const { videoName, videoUrl, description, length } = req.body;\n    const video = new Video({\n      videoName,\n      videoUrl,\n      description,\n      length,\n    });\n    const savedVideo = await video.save();\n    res.status(200).json(savedVideo);\n  } catch (err) {\n    //bad request sending the status to the server and the message\n    res\n      .status(400)\n      .json({ message: ERR_CANNOT_SAVE_TO_DATABASE, errors: err.errors });\n  }\n});\n//delete a video function is available only for admin\napp.delete(\"/videos/:id\", async (req, res) => {\n  try {\n    //try to delete and send a successful response\n    const { id } = req.params;\n    await Video.deleteOne({ _id: id });\n    res.status(200).json({ success: true });\n  } catch (error) {\n    console.log(error);\n    //inform the client about the deletion failure\n    res.status(400).json({ success: false });\n  }\n});\n\n// Start the server\napp.listen(port, () => {\n  console.log(`Server running on http://localhost:${port}`);\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611351730074
  }
}